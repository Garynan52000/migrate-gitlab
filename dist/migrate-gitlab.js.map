{
  "version": 3,
  "sources": ["..\\migrate-gitlab.ts"],
  "sourcesContent": [
    "#!/usr/bin/env bun\n\n/**\n * GitLab ä»“åº“è¿ç§»å·¥å…·\n * @description ä¸“é—¨ç”¨äº GitLab ä»“åº“ä¹‹é—´çš„è¿ç§»ï¼Œæ”¯æŒé•œåƒå…‹éš†ã€ä»“åº“åˆ›å»ºã€æè¿°æ›´æ–°ç­‰åŠŸèƒ½\n */\n\nimport { execSync } from 'child_process';\nimport { readFileSync, writeFileSync, existsSync, rmSync, mkdirSync, readdirSync, statSync } from 'fs';\nimport * as path from 'path';\nimport * as readline from 'readline';\n\n/**\n * æ§åˆ¶å°é¢œè‰²å·¥å…·ç±»\n */\nclass ConsoleColors {\n  // é¢œè‰²ä»£ç \n  static readonly RESET = '\\x1b[0m';\n  static readonly BRIGHT = '\\x1b[1m';\n  static readonly DIM = '\\x1b[2m';\n  \n  // å‰æ™¯è‰²\n  static readonly RED = '\\x1b[31m';\n  static readonly GREEN = '\\x1b[32m';\n  static readonly YELLOW = '\\x1b[33m';\n  static readonly BLUE = '\\x1b[34m';\n  static readonly MAGENTA = '\\x1b[35m';\n  static readonly CYAN = '\\x1b[36m';\n  static readonly WHITE = '\\x1b[37m';\n  static readonly GRAY = '\\x1b[90m';\n  \n  // èƒŒæ™¯è‰²\n  static readonly BG_RED = '\\x1b[41m';\n  static readonly BG_GREEN = '\\x1b[42m';\n  static readonly BG_YELLOW = '\\x1b[43m';\n  static readonly BG_BLUE = '\\x1b[44m';\n  \n  // æ ¼å¼åŒ–æ–¹æ³•\n  static success(text: string): string {\n    return `${ConsoleColors.GREEN}${ConsoleColors.BRIGHT}âœ… ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static error(text: string): string {\n    return `${ConsoleColors.RED}${ConsoleColors.BRIGHT}âŒ ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static warning(text: string): string {\n    return `${ConsoleColors.YELLOW}${ConsoleColors.BRIGHT}âš ï¸  ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static info(text: string): string {\n    return `${ConsoleColors.BLUE}${ConsoleColors.BRIGHT}â„¹ï¸  ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static progress(text: string): string {\n    return `${ConsoleColors.CYAN}${ConsoleColors.BRIGHT}ğŸš€ ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static highlight(text: string): string {\n    return `${ConsoleColors.MAGENTA}${ConsoleColors.BRIGHT}${text}${ConsoleColors.RESET}`;\n  }\n  \n  static dim(text: string): string {\n    return `${ConsoleColors.GRAY}${text}${ConsoleColors.RESET}`;\n  }\n  \n  static title(text: string): string {\n    return `${ConsoleColors.CYAN}${ConsoleColors.BRIGHT}ğŸ¯ ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static separator(length: number = 50): string {\n    return `${ConsoleColors.GRAY}${'â•'.repeat(length)}${ConsoleColors.RESET}`;\n  }\n  \n  static box(text: string): string {\n    const lines = text.split('\\n');\n    const maxLength = Math.max(...lines.map(line => line.length));\n    const border = 'â•'.repeat(maxLength + 4);\n    \n    let result = `${ConsoleColors.CYAN}â•”${border}â•—${ConsoleColors.RESET}\\n`;\n    lines.forEach(line => {\n      const padding = ' '.repeat(maxLength - line.length);\n      result += `${ConsoleColors.CYAN}â•‘  ${ConsoleColors.WHITE}${line}${padding}  ${ConsoleColors.CYAN}â•‘${ConsoleColors.RESET}\\n`;\n    });\n    result += `${ConsoleColors.CYAN}â•š${border}â•${ConsoleColors.RESET}`;\n    \n    return result;\n  }\n  \n  static step(stepNumber: number, text: string): string {\n    return `${ConsoleColors.BLUE}${ConsoleColors.BRIGHT}ğŸ“‹ æ­¥éª¤ ${stepNumber}:${ConsoleColors.RESET} ${ConsoleColors.WHITE}${text}${ConsoleColors.RESET}`;\n  }\n  \n  static duration(text: string): string {\n    return `${ConsoleColors.GRAY}â±ï¸  ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static url(text: string): string {\n    return `${ConsoleColors.BLUE}ğŸ”— ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static repo(text: string): string {\n    return `${ConsoleColors.MAGENTA}${ConsoleColors.BRIGHT}ğŸ“¦ ${text}${ConsoleColors.RESET}`;\n  }\n  \n  static description(text: string): string {\n    return `${ConsoleColors.GRAY}ğŸ“ ${text}${ConsoleColors.RESET}`;\n  }\n}\n\n/**\n * ä»“åº“ä¿¡æ¯ç±»å‹\n */\ntype TRepository = {\n  /** é¡¹ç›®åç§° */\n  name: string;\n  /** é¡¹ç›®æè¿° */\n  description: string;\n  /** åŸä»“åº“åœ°å€ */\n  originalUrl: string;\n};\n\n/**\n * è¿ç§»é…ç½®ç±»å‹\n */\ntype TMigrationConfig = {\n  /** ç›®æ ‡åˆ†ç»„URL */\n  targetGroup: string;\n  /** éœ€è¦è¿ç§»çš„ä»“åº“åˆ—è¡¨ */\n  repositories: TRepository[];\n};\n\n/**\n * é”™è¯¯ç±»å‹æšä¸¾\n */\ntype TErrorType = 'git_operation' | 'api_operation' | 'network' | 'permission' | 'validation' | 'filesystem' | 'unknown';\n\n/**\n * æ“ä½œæ­¥éª¤çŠ¶æ€\n */\ntype TStepStatus = 'pending' | 'in_progress' | 'completed' | 'failed' | 'skipped' | 'warning';\n\n/**\n * è¿ç§»æ­¥éª¤è¯¦æƒ…\n */\ntype TMigrationStep = {\n  /** æ­¥éª¤åç§° */\n  name: string;\n  /** æ­¥éª¤çŠ¶æ€ */\n  status: TStepStatus;\n  /** å¼€å§‹æ—¶é—´ */\n  startTime?: string;\n  /** ç»“æŸæ—¶é—´ */\n  endTime?: string;\n  /** è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰ */\n  duration?: number;\n  /** é”™è¯¯ä¿¡æ¯ */\n  error?: string;\n  /** é”™è¯¯ç±»å‹ */\n  errorType?: TErrorType;\n  /** è­¦å‘Šä¿¡æ¯ */\n  warnings?: string[];\n};\n\n/**\n * è¿ç§»æ—¥å¿—ç±»å‹\n */\ntype TMigrationLog = {\n  /** é¡¹ç›®åç§° */\n  projectName: string;\n  /** é¡¹ç›®æè¿° */\n  projectDescription: string;\n  /** åŸä»“åº“åœ°å€ */\n  originalRepoUrl: string;\n  /** ç›®æ ‡åˆ†ç»„ */\n  targetGroup: string;\n  /** ç›®æ ‡ä»“åº“åœ°å€ */\n  targetRepoUrl: string;\n  /** å¼€å§‹æ—¶é—´ */\n  startTime: string;\n  /** ç»“æŸæ—¶é—´ */\n  endTime: string;\n  /** è€—æ—¶ */\n  duration: string;\n  /** æ˜¯å¦å·²å…‹éš†åŸä»“åº“é•œåƒ */\n  isOriginalCloned: boolean;\n  /** æ˜¯å¦å·²åˆ›å»ºç›®æ ‡ä»“åº“ */\n  isTargetCreated: boolean;\n  /** æ˜¯å¦å·²æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“ */\n  isMirrorPushed: boolean;\n  /** æ˜¯å¦å·²ä¿®æ”¹ç›®æ ‡ä»“åº“çš„é¡¹ç›®æè¿° */\n  isDescriptionUpdated: boolean;\n  /** æ˜¯å¦å·²å…‹éš†è¿ç§»åçš„ä»“åº“ */\n  isFinalCloned: boolean;\n  /** å¤±è´¥åŸå›  */\n  failureReason: string;\n  /** é”™è¯¯ç±»å‹ */\n  errorType?: TErrorType;\n  /** è¯¦ç»†æ­¥éª¤è®°å½• */\n  steps: TMigrationStep[];\n  /** è­¦å‘Šä¿¡æ¯åˆ—è¡¨ */\n  warnings: string[];\n  /** é‡è¯•æ¬¡æ•° */\n  retryCount: number;\n  /** æœ€åæ›´æ–°æ—¶é—´ */\n  lastUpdated: string;\n};\n\n/**\n * äº¤äº’å¼è¾“å…¥ Access Token\n */\nfunction promptForAccessToken(): Promise<string> {\n  return new Promise((resolve) => {\n    // åˆ›å»ºä¸€ä¸ªæ²¡æœ‰è¾“å‡ºæµçš„ readline æ¥å£ï¼Œé˜²æ­¢å›æ˜¾\n    const rl = readline.createInterface({\n      input: process.stdin,\n      output: undefined, // ç¦ç”¨è¾“å‡ºæµï¼Œé˜²æ­¢å›æ˜¾\n      terminal: false\n    });\n\n    // éšè—è¾“å…¥çš„å­—ç¬¦\n    const stdin = process.stdin;\n    stdin.setRawMode(true);\n    stdin.resume();\n    stdin.setEncoding('utf8');\n\n    let token = '';\n    console.log('\\nğŸ”‘ è¯·è¾“å…¥ GitLab Access Token (éšè”½è¾“å…¥ï¼Œç‚¹å‡»å³é”®ä¸€ä¸‹å³å¯ç²˜è´´):');\n    \n    stdin.on('data', (key: string) => {\n      // å¤„ç†å›è½¦é”®\n      if (key === '\\r' || key === '\\n') {\n        stdin.setRawMode(false);\n        stdin.pause();\n        rl.close();\n        console.log('\\nâœ… Access Token å·²è¾“å…¥');\n        resolve(token.trim());\n        return;\n      }\n      \n      // å¤„ç†é€€æ ¼é”®\n      if (key === '\\u0008' || key === '\\u007f') {\n        if (token.length > 0) {\n          token = token.slice(0, -1);\n        }\n        return;\n      }\n      \n      // å¤„ç† Ctrl+C\n      if (key === '\\u0003') {\n        console.log('\\nâŒ ç”¨æˆ·å–æ¶ˆè¾“å…¥');\n        process.exit(1);\n      }\n      \n      // æ·»åŠ å­—ç¬¦åˆ°token\n      if (key.charCodeAt(0) >= 32) {\n        token += key;\n      }\n    });\n  });\n}\n\n/**\n * GitLab é¡¹ç›®è¿ç§»å™¨\n */\nclass GitLabMigrator {\n  private moveFilePath: string;\n  private accessToken: string;\n  private targetGroupUrl: string;\n  private repositories: TRepository[];\n  private logs: Map<string, TMigrationLog>;\n  private selectedProjects: string[];\n  private tempDir: string;\n  private saveTimeout: NodeJS.Timeout | null = null;\n  private skipFinalClone: boolean;\n  private quietMode: boolean;\n\n  constructor(moveFilePath: string = path.resolve(process.cwd(), 'move.md'), selectedProjects?: string[], accessToken?: string, skipFinalClone: boolean = false, quietMode: boolean = false) {\n    this.moveFilePath = moveFilePath;\n    this.accessToken = accessToken || '';\n    this.skipFinalClone = skipFinalClone;\n    this.quietMode = quietMode;\n    this.targetGroupUrl = '';\n    this.repositories = [];\n    this.logs = new Map();\n    this.selectedProjects = selectedProjects || [];\n    \n    // ä½¿ç”¨æ›´å…·ç§æœ‰åŒ–ç‰¹å¾çš„ä¸´æ—¶ç›®å½•å‘½å\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n    const randomSuffix = Math.random().toString(36).substring(2, 8);\n    this.tempDir = path.join(process.cwd(), `temp-migration-${timestamp}-${randomSuffix}`);\n    \n    // æ¸…ç†æ—§å¤‡ä»½æ–‡ä»¶å’Œä¸´æ—¶ç›®å½•\n    this.cleanupOldBackups();\n    this.cleanupOldTempDirectories();\n  }\n\n  /**\n   * è§£æmove.mdæ–‡ä»¶\n   */\n  private parseMoveFile(): void {\n    console.log('ğŸ“– æ­£åœ¨è§£æmove.mdæ–‡ä»¶...');\n    \n    if (!existsSync(this.moveFilePath)) {\n      throw new Error(`move.mdæ–‡ä»¶ä¸å­˜åœ¨: ${this.moveFilePath}`);\n    }\n\n    const content = readFileSync(this.moveFilePath, 'utf-8');\n    const lines = content.split('\\n');\n    const parseErrors: string[] = [];\n\n    // è§£æ Access Tokenï¼ˆå¦‚æœæ„é€ å‡½æ•°ä¸­æ²¡æœ‰æä¾›ï¼‰\n    if (!this.accessToken) {\n      const accessTokenIndex = lines.findIndex(line => line.includes('## è¿ç§»ç›®æ ‡ Access Token'));\n      if (accessTokenIndex !== -1 && accessTokenIndex + 2 < lines.length) {\n        const tokenLine = lines[accessTokenIndex + 2].trim();\n        if (tokenLine && tokenLine !== 'your_gitlab_access_token' && tokenLine !== 'your_access_token') {\n          this.accessToken = tokenLine;\n          console.log('ğŸ”‘ ä» move.md æ–‡ä»¶ä¸­è¯»å–åˆ° Access Token');\n        }\n      } else {\n        parseErrors.push('æœªæ‰¾åˆ°æœ‰æ•ˆçš„ Access Token é…ç½®');\n      }\n    }\n\n    // è§£æç›®æ ‡åˆ†ç»„\n    const targetGroupIndex = lines.findIndex(line => line.includes('## è¿ç§»ç›®æ ‡åˆ†ç»„'));\n    if (targetGroupIndex !== -1 && targetGroupIndex + 2 < lines.length) {\n      this.targetGroupUrl = lines[targetGroupIndex + 2].trim();\n      if (!this.targetGroupUrl) {\n        parseErrors.push('ç›®æ ‡åˆ†ç»„URLä¸ºç©º');\n      } else if (!this.isValidUrl(this.targetGroupUrl)) {\n        parseErrors.push(`ç›®æ ‡åˆ†ç»„URLæ ¼å¼æ— æ•ˆ: ${this.targetGroupUrl}`);\n      }\n    } else {\n      parseErrors.push('æœªæ‰¾åˆ°ç›®æ ‡åˆ†ç»„é…ç½®');\n    }\n\n    // è§£æéœ€è¦è¿ç§»çš„ä»“åº“è¡¨æ ¼\n    const tableStartIndex = lines.findIndex(line => line.includes('| é¡¹ç›®åç§° | é¡¹ç›®æè¿° | åŸä»“åº“åœ°å€ |'));\n    if (tableStartIndex !== -1) {\n      let validRepoCount = 0;\n      for (let i = tableStartIndex + 2; i < lines.length; i++) {\n        const line = lines[i].trim();\n        const lineNumber = i + 1;\n        \n        // é‡åˆ°æ—¥å¿—éƒ¨åˆ†æˆ–ç©ºè¡Œåˆ™åœæ­¢è§£æ\n        if (!line || line.includes('## æ—¥å¿—') || line.includes('## ')) break;\n        \n        // è·³è¿‡åˆ†éš”çº¿\n        if (line.match(/^\\|[-\\s|]+\\|$/)) continue;\n        \n        // æ£€æŸ¥æ˜¯å¦ä¸ºè¡¨æ ¼è¡Œ\n        if (!line.startsWith('|') || !line.endsWith('|')) {\n          parseErrors.push(`ç¬¬${lineNumber}è¡Œæ ¼å¼é”™è¯¯ï¼šè¡¨æ ¼è¡Œå¿…é¡»ä»¥ | å¼€å¤´å’Œç»“å°¾`);\n          continue;\n        }\n        \n        const columns = line.split('|').map(col => col.trim()).filter(col => col);\n        \n        if (columns.length < 3) {\n          parseErrors.push(`ç¬¬${lineNumber}è¡Œæ•°æ®ä¸å®Œæ•´ï¼šéœ€è¦è‡³å°‘3åˆ—æ•°æ®ï¼ˆé¡¹ç›®åç§°ã€é¡¹ç›®æè¿°ã€åŸä»“åº“åœ°å€ï¼‰`);\n          continue;\n        }\n        \n        const [name, description, originalUrl] = columns;\n        \n        // éªŒè¯å¿…å¡«å­—æ®µ\n        if (!name) {\n          parseErrors.push(`ç¬¬${lineNumber}è¡Œï¼šé¡¹ç›®åç§°ä¸èƒ½ä¸ºç©º`);\n          continue;\n        }\n        \n        if (!originalUrl) {\n          parseErrors.push(`ç¬¬${lineNumber}è¡Œï¼šåŸä»“åº“åœ°å€ä¸èƒ½ä¸ºç©º`);\n          continue;\n        }\n        \n        // éªŒè¯URLæ ¼å¼\n        if (!this.isValidGitUrl(originalUrl)) {\n          parseErrors.push(`ç¬¬${lineNumber}è¡Œï¼šåŸä»“åº“åœ°å€æ ¼å¼æ— æ•ˆ: ${originalUrl}`);\n          continue;\n        }\n        \n        // æ£€æŸ¥é‡å¤é¡¹ç›®åç§°\n        if (this.repositories.some(repo => repo.name === name)) {\n          parseErrors.push(`ç¬¬${lineNumber}è¡Œï¼šé¡¹ç›®åç§°é‡å¤: ${name}`);\n          continue;\n        }\n        \n        this.repositories.push({\n          name,\n          description: description || 'æ— æè¿°',\n          originalUrl\n        });\n        \n        validRepoCount++;\n      }\n      \n      if (validRepoCount === 0) {\n        parseErrors.push('æœªæ‰¾åˆ°æœ‰æ•ˆçš„ä»“åº“é…ç½®');\n      }\n    } else {\n      parseErrors.push('æœªæ‰¾åˆ°ä»“åº“åˆ—è¡¨è¡¨æ ¼');\n    }\n\n    // è§£æç°æœ‰æ—¥å¿—\n    this.parseExistingLogs(content);\n    \n    // è¾“å‡ºè§£æç»“æœå’Œé”™è¯¯\n    if (parseErrors.length > 0) {\n      console.log(ConsoleColors.warning('âš ï¸  é…ç½®æ–‡ä»¶è§£æè­¦å‘Š:'));\n      parseErrors.forEach(error => {\n        console.log(ConsoleColors.dim(`   â€¢ ${error}`));\n      });\n      console.log('');\n    }\n    \n    console.log(`âœ… è§£æå®Œæˆï¼Œæ‰¾åˆ° ${this.repositories.length} ä¸ªå¾…è¿ç§»ä»“åº“`);\n    console.log(`ğŸ¯ ç›®æ ‡åˆ†ç»„: ${this.targetGroupUrl}`);\n    \n    // æ‰§è¡Œé…ç½®éªŒè¯\n    const validation = this.validateConfiguration();\n    \n    // è¾“å‡ºéªŒè¯ç»“æœ\n    if (validation.warnings.length > 0) {\n      console.log(ConsoleColors.warning('âš ï¸  é…ç½®éªŒè¯è­¦å‘Š:'));\n      validation.warnings.forEach(warning => {\n        console.log(ConsoleColors.dim(`   â€¢ ${warning}`));\n      });\n      console.log('');\n    }\n    \n    if (validation.errors.length > 0) {\n      console.log(ConsoleColors.error('âŒ é…ç½®éªŒè¯é”™è¯¯:'));\n      validation.errors.forEach(error => {\n        console.log(ConsoleColors.dim(`   â€¢ ${error}`));\n      });\n      console.log('');\n      throw new Error('é…ç½®æ–‡ä»¶éªŒè¯å¤±è´¥ï¼Œè¯·ä¿®å¤ä¸Šè¿°é”™è¯¯åé‡è¯•');\n    }\n    \n    // å¦‚æœæœ‰ä¸¥é‡çš„è§£æé”™è¯¯ï¼ŒæŠ›å‡ºå¼‚å¸¸\n    if (!this.targetGroupUrl || this.repositories.length === 0) {\n      throw new Error('é…ç½®æ–‡ä»¶è§£æå¤±è´¥ï¼šç¼ºå°‘å¿…è¦çš„é…ç½®ä¿¡æ¯');\n    }\n  }\n\n  /**\n   * éªŒè¯URLæ ¼å¼\n   */\n  private isValidUrl(url: string): boolean {\n    try {\n      new URL(url);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  /**\n   * éªŒè¯Gitä»“åº“URLæ ¼å¼\n   */\n  private isValidGitUrl(url: string): boolean {\n    // æ”¯æŒ httpsã€sshã€git åè®®\n    const gitUrlPattern = /^(https?:\\/\\/|ssh:\\/\\/git@|git@)[\\w\\.-]+(:\\d+)?[:\\/][\\w\\.-]+\\/[\\w\\.-]+(\\.git)?\\/?$/;\n    return gitUrlPattern.test(url);\n  }\n\n  /**\n   * éªŒè¯é…ç½®æ–‡ä»¶å®Œæ•´æ€§\n   */\n  private validateConfiguration(): { isValid: boolean; errors: string[]; warnings: string[] } {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    // éªŒè¯ Access Token\n    if (!this.accessToken || this.accessToken === 'your_gitlab_access_token' || this.accessToken === 'your_access_token') {\n      warnings.push('Access Token æœªé…ç½®æˆ–ä½¿ç”¨é»˜è®¤å€¼ï¼Œéœ€è¦é€šè¿‡å…¶ä»–æ–¹å¼æä¾›');\n    } else if (this.accessToken.length < 20) {\n      warnings.push('Access Token é•¿åº¦å¯èƒ½ä¸æ­£ç¡®ï¼Œè¯·ç¡®è®¤æ˜¯å¦ä¸ºæœ‰æ•ˆçš„ GitLab Access Token');\n    }\n\n    // éªŒè¯ç›®æ ‡åˆ†ç»„\n    if (!this.targetGroupUrl) {\n      errors.push('ç›®æ ‡åˆ†ç»„URLæœªé…ç½®');\n    } else {\n      if (!this.isValidUrl(this.targetGroupUrl)) {\n        errors.push(`ç›®æ ‡åˆ†ç»„URLæ ¼å¼æ— æ•ˆ: ${this.targetGroupUrl}`);\n      } else if (!this.targetGroupUrl.includes('gitlab')) {\n        warnings.push('ç›®æ ‡åˆ†ç»„URLä¼¼ä¹ä¸æ˜¯GitLabåœ°å€ï¼Œè¯·ç¡®è®¤æ˜¯å¦æ­£ç¡®');\n      }\n    }\n\n    // éªŒè¯ä»“åº“åˆ—è¡¨\n    if (this.repositories.length === 0) {\n      errors.push('æœªæ‰¾åˆ°ä»»ä½•å¾…è¿ç§»çš„ä»“åº“');\n    } else {\n      // æ£€æŸ¥ä»“åº“åç§°å”¯ä¸€æ€§\n      const nameSet = new Set<string>();\n      const duplicateNames: string[] = [];\n      \n      this.repositories.forEach(repo => {\n        if (nameSet.has(repo.name)) {\n          duplicateNames.push(repo.name);\n        } else {\n          nameSet.add(repo.name);\n        }\n        \n        // éªŒè¯ä»“åº“åç§°æ ¼å¼\n        if (!/^[a-zA-Z0-9_-]+$/.test(repo.name)) {\n          warnings.push(`ä»“åº“åç§° \"${repo.name}\" åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼Œå¯èƒ½å¯¼è‡´åˆ›å»ºå¤±è´¥`);\n        }\n        \n        // éªŒè¯åŸä»“åº“URL\n        if (!this.isValidGitUrl(repo.originalUrl)) {\n          errors.push(`ä»“åº“ \"${repo.name}\" çš„åŸä»“åº“åœ°å€æ ¼å¼æ— æ•ˆ: ${repo.originalUrl}`);\n        }\n        \n        // æ£€æŸ¥æè¿°é•¿åº¦\n        if (repo.description && repo.description.length > 2000) {\n          warnings.push(`ä»“åº“ \"${repo.name}\" çš„æè¿°è¿‡é•¿ï¼Œå¯èƒ½è¢«æˆªæ–­`);\n        }\n      });\n      \n      if (duplicateNames.length > 0) {\n        errors.push(`å‘ç°é‡å¤çš„ä»“åº“åç§°: ${duplicateNames.join(', ')}`);\n      }\n    }\n\n    // éªŒè¯é€‰ä¸­çš„é¡¹ç›®æ˜¯å¦å­˜åœ¨\n    if (this.selectedProjects.length > 0) {\n      const invalidProjects = this.selectedProjects.filter(name => \n        !this.repositories.some(repo => repo.name === name)\n      );\n      \n      if (invalidProjects.length > 0) {\n        errors.push(`æŒ‡å®šçš„é¡¹ç›®ä¸å­˜åœ¨: ${invalidProjects.join(', ')}`);\n      }\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors,\n      warnings\n    };\n  }\n\n  /**\n   * è§£æç°æœ‰çš„è¿ç§»æ—¥å¿—\n   */\n  private parseExistingLogs(content: string): void {\n    const lines = content.split('\\n');\n    let currentLog: Partial<TMigrationLog> | null = null;\n    \n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim();\n      \n      // æ£€æµ‹æ–°çš„æ—¥å¿—é¡¹ç›®å¼€å§‹\n      if (line.startsWith('### ') && !line.includes('paimai-activity')) {\n        // ä¿å­˜ä¸Šä¸€ä¸ªæ—¥å¿—é¡¹ç›®\n        if (currentLog && currentLog.projectName) {\n          this.logs.set(currentLog.projectName, currentLog as TMigrationLog);\n        }\n        \n        // å¼€å§‹æ–°çš„æ—¥å¿—é¡¹ç›®\n        const projectName = line.substring(4).trim();\n        currentLog = {\n          projectName,\n          projectDescription: '',\n          originalRepoUrl: '',\n          targetGroup: '',\n          targetRepoUrl: '',\n          startTime: '',\n          endTime: '',\n          duration: '',\n          isOriginalCloned: false,\n          isTargetCreated: false,\n          isMirrorPushed: false,\n          isDescriptionUpdated: false,\n          isFinalCloned: false,\n          failureReason: '',\n          steps: [],\n          warnings: [],\n          retryCount: 0,\n          lastUpdated: new Date().toISOString()\n        };\n      }\n      \n      // è§£ææ—¥å¿—å­—æ®µ\n      if (currentLog && line.startsWith('- **')) {\n        const match = line.match(/- \\*\\*(.+?)\\*\\*: (.*)/);\n        if (match) {\n          const [, key, value] = match;\n          switch (key) {\n            case 'é¡¹ç›®æè¿°':\n              currentLog.projectDescription = value;\n              break;\n            case 'åŸä»“åº“åœ°å€':\n              currentLog.originalRepoUrl = value;\n              break;\n            case 'ç›®æ ‡åˆ†ç»„':\n              currentLog.targetGroup = value;\n              break;\n            case 'ç›®æ ‡ä»“åº“åœ°å€':\n              currentLog.targetRepoUrl = value;\n              break;\n            case 'å¼€å§‹æ—¶é—´':\n              currentLog.startTime = value;\n              break;\n            case 'ç»“æŸæ—¶é—´':\n              currentLog.endTime = value;\n              break;\n            case 'è€—æ—¶':\n              currentLog.duration = value;\n              break;\n            case 'æ˜¯å¦å·²å…‹éš†åŸä»“åº“é•œåƒ':\n              currentLog.isOriginalCloned = value === 'âœ…';\n              break;\n            case 'æ˜¯å¦å·²åˆ›å»ºç›®æ ‡ä»“åº“':\n              currentLog.isTargetCreated = value === 'âœ…';\n              break;\n            case 'æ˜¯å¦å·²æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“':\n              currentLog.isMirrorPushed = value === 'âœ…';\n              break;\n            case 'æ˜¯å¦å·²ä¿®æ”¹ç›®æ ‡ä»“åº“çš„é¡¹ç›®æè¿°':\n              currentLog.isDescriptionUpdated = value === 'âœ…';\n              break;\n            case 'æ˜¯å¦å·²å…‹éš†è¿ç§»åçš„ä»“åº“':\n              currentLog.isFinalCloned = value === 'âœ…';\n              break;\n            case 'å¤±è´¥åŸå› ':\n              currentLog.failureReason = value;\n              break;\n          }\n        }\n      }\n    }\n    \n    // ä¿å­˜æœ€åä¸€ä¸ªæ—¥å¿—é¡¹ç›®\n    if (currentLog && currentLog.projectName) {\n      this.logs.set(currentLog.projectName, currentLog as TMigrationLog);\n    }\n    \n    console.log(`ğŸ“‹ è§£æåˆ° ${this.logs.size} ä¸ªç°æœ‰æ—¥å¿—è®°å½•`);\n    \n    // æ¸…ç†ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­çš„é¡¹ç›®æ—¥å¿—\n    this.cleanupOrphanedLogs();\n  }\n  \n  /**\n   * æ¸…ç†ä¸åœ¨é…ç½®æ–‡ä»¶ä¸­çš„é¡¹ç›®æ—¥å¿—\n   */\n  private cleanupOrphanedLogs(): void {\n    const configuredProjectNames = new Set(this.repositories.map(repo => repo.name));\n    const orphanedProjects: string[] = [];\n    \n    // æ‰¾å‡ºä¸åœ¨é…ç½®æ–‡ä»¶ä¸­çš„é¡¹ç›®\n    for (const [projectName] of this.logs) {\n      if (!configuredProjectNames.has(projectName)) {\n        orphanedProjects.push(projectName);\n      }\n    }\n    \n    // åˆ é™¤å­¤ç«‹çš„é¡¹ç›®æ—¥å¿—\n    if (orphanedProjects.length > 0) {\n      console.log(`ğŸ§¹ æ¸…ç† ${orphanedProjects.length} ä¸ªä¸åœ¨é…ç½®æ–‡ä»¶ä¸­çš„é¡¹ç›®æ—¥å¿—: ${orphanedProjects.join(', ')}`);\n      orphanedProjects.forEach(projectName => {\n        this.logs.delete(projectName);\n      });\n    }\n  }\n\n  /**\n   * è·å–GitLab APIåŸºç¡€URL\n   */\n  private getGitLabApiBase(): string {\n    // ä»ç›®æ ‡åˆ†ç»„URLä¸­æå–GitLabå®ä¾‹çš„åŸºç¡€URL\n    const url = new URL(this.targetGroupUrl);\n    return `${url.protocol}//${url.host}/api/v4`;\n  }\n\n  /**\n   * ä»GitLab URLä¸­æå–åˆ†ç»„è·¯å¾„\n   */\n  private extractGroupPath(groupUrl: string): string {\n    try {\n      const url = new URL(groupUrl);\n      let pathname = url.pathname;\n      // ç§»é™¤å¼€å¤´çš„æ–œæ \n      if (pathname.startsWith('/')) {\n        pathname = pathname.substring(1);\n      }\n      // ç§»é™¤ç»“å°¾çš„æ–œæ \n      if (pathname.endsWith('/')) {\n        pathname = pathname.slice(0, -1);\n      }\n      return pathname;\n    } catch (error) {\n      throw new Error(`æ— æ•ˆçš„åˆ†ç»„URL: ${groupUrl}`);\n    }\n  }\n\n  /**\n   * è·å–åˆ†ç»„ID\n   */\n  private async getGroupId(groupUrl: string): Promise<number> {\n    try {\n      const groupPath = this.extractGroupPath(groupUrl);\n      const apiUrl = `${this.getGitLabApiBase()}/groups/${encodeURIComponent(groupPath)}`;\n      \n      const response = await fetch(apiUrl, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${this.accessToken}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (!response.ok) {\n        throw new Error(`è·å–åˆ†ç»„ä¿¡æ¯å¤±è´¥ï¼ŒHTTPçŠ¶æ€ç : ${response.status}`);\n      }\n      \n      const groupInfo = await response.json();\n      return groupInfo.id;\n    } catch (error: any) {\n      throw new Error(`è·å–åˆ†ç»„IDå¤±è´¥: ${error.message}`);\n    }\n  }\n\n  /**\n   * æ‰§è¡Œå‘½ä»¤å¹¶è¿”å›ç»“æœ\n   */\n  private executeCommand(command: string, cwd?: string): string {\n    try {\n      if (!this.quietMode) {\n        console.log(ConsoleColors.dim(`æ‰§è¡Œå‘½ä»¤: ${command}`));\n      }\n      const result = execSync(command, { \n        cwd: cwd || process.cwd(),\n        encoding: 'utf-8',\n        stdio: 'pipe'\n      });\n      if (!this.quietMode) {\n        console.log(ConsoleColors.dim(`å‘½ä»¤æ‰§è¡ŒæˆåŠŸ`));\n      }\n      return result.toString().trim();\n    } catch (error: any) {\n      console.log(ConsoleColors.error(`å‘½ä»¤æ‰§è¡Œå¤±è´¥: ${command}`));\n      throw new Error(`å‘½ä»¤æ‰§è¡Œå¤±è´¥: ${command}\\né”™è¯¯ä¿¡æ¯: ${error.message}`);\n    }\n  }\n\n  /**\n   * æ‰§è¡Œå‘½ä»¤å¹¶æ˜¾ç¤ºå®æ—¶è¾“å‡ºï¼ˆç”¨äºéœ€è¦æ˜¾ç¤ºè¿›åº¦çš„é•¿æ—¶é—´è¿è¡Œå‘½ä»¤ï¼‰\n   */\n  private executeCommandWithProgress(command: string, cwd?: string): string {\n    try {\n      if (!this.quietMode) {\n        console.log(ConsoleColors.dim(`æ‰§è¡Œå‘½ä»¤: ${command}`));\n      }\n      const result = execSync(command, { \n        cwd: cwd || process.cwd(),\n        encoding: 'utf-8',\n        stdio: this.quietMode ? 'pipe' : 'inherit' // é™é»˜æ¨¡å¼ä¸‹éšè—å®æ—¶è¾“å‡º\n      });\n      if (!this.quietMode) {\n        console.log(ConsoleColors.dim(`å‘½ä»¤æ‰§è¡ŒæˆåŠŸ`));\n      }\n      return result ? result.toString().trim() : '';\n    } catch (error: any) {\n      console.log(ConsoleColors.error(`å‘½ä»¤æ‰§è¡Œå¤±è´¥: ${command}`));\n      throw new Error(`å‘½ä»¤æ‰§è¡Œå¤±è´¥: ${command}\\né”™è¯¯ä¿¡æ¯: ${error.message}`);\n    }\n  }\n\n  /**\n   * æ‰§è¡Œå‘½ä»¤å¹¶è¿”å›ç»“æœï¼ˆæ”¯æŒé”™è¯¯é™çº§å¤„ç†ï¼‰\n   */\n  private executeCommandWithWarningSupport(command: string, cwd?: string): { success: boolean; output: string; warning?: string } {\n    try {\n      console.log(ConsoleColors.dim(`æ‰§è¡Œå‘½ä»¤: ${command}`));\n      const result = execSync(command, { \n        cwd: cwd || process.cwd(),\n        encoding: 'utf-8',\n        stdio: 'pipe'\n      });\n      console.log(ConsoleColors.dim(`å‘½ä»¤æ‰§è¡ŒæˆåŠŸ`));\n      return { success: true, output: result.toString().trim() };\n    } catch (error: any) {\n      const errorMessage = error.message || '';\n      \n      // æ£€æŸ¥æ˜¯å¦ä¸ºéšè—å¼•ç”¨ç›¸å…³çš„é”™è¯¯ï¼Œå°†å…¶é™çº§ä¸ºè­¦å‘Š\n      if (errorMessage.includes('deny updating a hidden ref') || \n          errorMessage.includes('refs/keep-around') ||\n          errorMessage.includes('refs/merge-requests') ||\n          errorMessage.includes('refs/pipelines') ||\n          errorMessage.includes('refs/environments') ||\n          errorMessage.includes('refs/heads/') ||\n          errorMessage.includes('refs/tags/') ||\n          errorMessage.includes('hidden ref') ||\n          errorMessage.includes('refusing to update checked out branch') ||\n          errorMessage.includes('remote rejected') ||\n          errorMessage.includes('pre-receive hook declined') ||\n          errorMessage.includes('! [remote rejected]') ||\n          errorMessage.includes('hook declined') ||\n          errorMessage.includes('protected branch') ||\n          errorMessage.includes('To ') ||\n          errorMessage.includes('Everything up-to-date') ||\n          errorMessage.includes('non-fast-forward') ||\n          errorMessage.includes('failed to push some refs') ||\n          errorMessage.includes('updates were rejected') ||\n          errorMessage.includes('fetch first') ||\n          errorMessage.includes('hint: Updates were rejected') ||\n          errorMessage.includes('error: failed to push')) {\n        console.log(ConsoleColors.warning(`âš ï¸  è­¦å‘Š: ${errorMessage}`));\n        console.log(ConsoleColors.info('è¿™æ˜¯ä¸€ä¸ªéšè—å¼•ç”¨ç›¸å…³çš„è­¦å‘Šï¼Œä¸å½±å“è¿ç§»ç»“æœ'));\n        return { success: true, output: '', warning: errorMessage };\n      }\n      \n      // æ£€æŸ¥æ˜¯å¦ä¸ºæ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„é”™è¯¯ï¼Œå°†å…¶é™çº§ä¸ºè­¦å‘Š\n      if (errorMessage.includes('EBUSY: resource busy or locked') ||\n          errorMessage.includes('resource busy or locked') ||\n          errorMessage.includes('cannot delete') ||\n          errorMessage.includes('cannot remove') ||\n          errorMessage.includes('ENOENT: no such file or directory') ||\n          errorMessage.includes('no such file or directory') ||\n          errorMessage.includes('ENOSPC: no space left on device') ||\n          errorMessage.includes('no space left on device')) {\n        if (!this.quietMode) {\n          console.log(ConsoleColors.warning(`âš ï¸  è­¦å‘Š: æ–‡ä»¶ç³»ç»Ÿæ“ä½œé‡åˆ°é—®é¢˜`));\n          console.log(ConsoleColors.info('è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„è­¦å‘Šï¼Œä¸å½±å“è¿ç§»ç»“æœ'));\n        }\n        return { success: true, output: '', warning: 'æ–‡ä»¶ç³»ç»Ÿæ“ä½œé‡åˆ°é—®é¢˜ï¼Œä½†ä¸å½±å“è¿ç§»ç»“æœ' };\n      }\n      \n      // å…¶ä»–é”™è¯¯æ­£å¸¸æŠ›å‡º\n      console.log(ConsoleColors.error(`å‘½ä»¤æ‰§è¡Œå¤±è´¥: ${command}`));\n      throw new Error(`å‘½ä»¤æ‰§è¡Œå¤±è´¥: ${command}\\né”™è¯¯ä¿¡æ¯: ${errorMessage}`);\n    }\n  }\n\n  /**\n   * æ‰§è¡Œå‘½ä»¤å¹¶æ˜¾ç¤ºå®æ—¶è¾“å‡ºï¼ˆæ”¯æŒé”™è¯¯é™çº§å¤„ç†å’Œè¿›åº¦æ˜¾ç¤ºï¼‰\n   */\n  private executeCommandWithWarningAndProgress(command: string, cwd?: string): { success: boolean; output: string; warning?: string } {\n    try {\n      if (!this.quietMode) {\n        console.log(ConsoleColors.dim(`æ‰§è¡Œå‘½ä»¤: ${command}`));\n      }\n      const result = execSync(command, { \n        cwd: cwd || process.cwd(),\n        encoding: 'utf-8',\n        stdio: this.quietMode ? 'pipe' : 'inherit' // é™é»˜æ¨¡å¼ä¸‹éšè—å®æ—¶è¾“å‡º\n      });\n      if (!this.quietMode) {\n        console.log(ConsoleColors.dim(`å‘½ä»¤æ‰§è¡ŒæˆåŠŸ`));\n      }\n      return { success: true, output: result ? result.toString().trim() : '' };\n    } catch (error: any) {\n      // è·å–å®Œæ•´çš„é”™è¯¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬ stderr\n      const errorMessage = error.message || '';\n      const stderr = error.stderr ? error.stderr.toString() : '';\n      const stdout = error.stdout ? error.stdout.toString() : '';\n      const fullErrorMessage = `${errorMessage}\\n${stderr}\\n${stdout}`.trim();\n      \n      // æ£€æŸ¥æ˜¯å¦ä¸ºéšè—å¼•ç”¨ç›¸å…³çš„é”™è¯¯ï¼Œå°†å…¶é™çº§ä¸ºè­¦å‘Š\n      if (fullErrorMessage.includes('deny updating a hidden ref') || \n          fullErrorMessage.includes('refs/keep-around') ||\n          fullErrorMessage.includes('refs/merge-requests') ||\n          fullErrorMessage.includes('refs/pipelines') ||\n          fullErrorMessage.includes('refs/environments') ||\n          fullErrorMessage.includes('refs/heads/') ||\n          fullErrorMessage.includes('refs/tags/') ||\n          fullErrorMessage.includes('hidden ref') ||\n          fullErrorMessage.includes('refusing to update checked out branch') ||\n          fullErrorMessage.includes('remote rejected') ||\n          fullErrorMessage.includes('pre-receive hook declined') ||\n          fullErrorMessage.includes('! [remote rejected]') ||\n          fullErrorMessage.includes('hook declined') ||\n          fullErrorMessage.includes('protected branch') ||\n          fullErrorMessage.includes('To ') ||\n          fullErrorMessage.includes('Everything up-to-date') ||\n          fullErrorMessage.includes('non-fast-forward') ||\n          fullErrorMessage.includes('failed to push some refs') ||\n          fullErrorMessage.includes('updates were rejected') ||\n          fullErrorMessage.includes('fetch first') ||\n          fullErrorMessage.includes('hint: Updates were rejected') ||\n          fullErrorMessage.includes('error: failed to push') ||\n          stderr.includes('deny updating a hidden ref') ||\n          stderr.includes('refs/keep-around') ||\n          stderr.includes('refs/merge-requests') ||\n          stderr.includes('refs/pipelines') ||\n          stderr.includes('refs/environments') ||\n          stderr.includes('refs/heads/') ||\n          stderr.includes('refs/tags/') ||\n          stderr.includes('remote rejected') ||\n          stderr.includes('! [remote rejected]') ||\n          stderr.includes('hook declined') ||\n          stderr.includes('protected branch') ||\n          stderr.includes('To ') ||\n          stderr.includes('Everything up-to-date') ||\n          stderr.includes('non-fast-forward') ||\n          stderr.includes('failed to push some refs') ||\n          stderr.includes('updates were rejected') ||\n          stderr.includes('fetch first') ||\n          stderr.includes('hint: Updates were rejected') ||\n          stderr.includes('error: failed to push')) {\n        if (!this.quietMode) {\n          console.log(ConsoleColors.warning(`âš ï¸  è­¦å‘Š: æ¨é€è¿‡ç¨‹ä¸­é‡åˆ°éšè—å¼•ç”¨ç›¸å…³è­¦å‘Š`));\n          console.log(ConsoleColors.info('è¿™æ˜¯ä¸€ä¸ªéšè—å¼•ç”¨ç›¸å…³çš„è­¦å‘Šï¼Œä¸å½±å“è¿ç§»ç»“æœ'));\n        }\n        return { success: true, output: stdout, warning: 'æ¨é€è¿‡ç¨‹ä¸­é‡åˆ°éšè—å¼•ç”¨ç›¸å…³è­¦å‘Šï¼Œä½†ä¸å½±å“è¿ç§»ç»“æœ' };\n      }\n      \n      // æ£€æŸ¥æ˜¯å¦ä¸ºæ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„é”™è¯¯ï¼Œå°†å…¶é™çº§ä¸ºè­¦å‘Š\n      if (fullErrorMessage.includes('EBUSY: resource busy or locked') ||\n          fullErrorMessage.includes('resource busy or locked') ||\n          fullErrorMessage.includes('cannot delete') ||\n          fullErrorMessage.includes('cannot remove') ||\n          fullErrorMessage.includes('ENOENT: no such file or directory') ||\n          fullErrorMessage.includes('no such file or directory') ||\n          fullErrorMessage.includes('ENOSPC: no space left on device') ||\n          fullErrorMessage.includes('no space left on device') ||\n          stderr.includes('EBUSY: resource busy or locked') ||\n          stderr.includes('resource busy or locked') ||\n          stderr.includes('cannot delete') ||\n          stderr.includes('cannot remove')) {\n        if (!this.quietMode) {\n          console.log(ConsoleColors.warning(`âš ï¸  è­¦å‘Š: æ–‡ä»¶ç³»ç»Ÿæ“ä½œé‡åˆ°é—®é¢˜`));\n          console.log(ConsoleColors.info('è¿™æ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„è­¦å‘Šï¼Œä¸å½±å“è¿ç§»ç»“æœ'));\n        }\n        return { success: true, output: stdout, warning: 'æ–‡ä»¶ç³»ç»Ÿæ“ä½œé‡åˆ°é—®é¢˜ï¼Œä½†ä¸å½±å“è¿ç§»ç»“æœ' };\n      }\n      \n      // å…¶ä»–é”™è¯¯æ­£å¸¸æŠ›å‡º\n      if (!this.quietMode) {\n        console.log(ConsoleColors.error(`å‘½ä»¤æ‰§è¡Œå¤±è´¥: ${command}`));\n      }\n      throw new Error(`å‘½ä»¤æ‰§è¡Œå¤±è´¥: ${command}\\né”™è¯¯ä¿¡æ¯: ${fullErrorMessage}`);\n    }\n  }\n\n  /**\n   * æ£€æŸ¥ç›®æ ‡åˆ†ç»„ä¸­æ˜¯å¦å·²å­˜åœ¨åŒåä»“åº“\n   */\n  private async checkRepositoryExists(repoName: string): Promise<{ exists: boolean; isEmpty?: boolean; targetUrl?: string }> {\n    try {\n      console.log(`ğŸ” æ£€æŸ¥ä»“åº“æ˜¯å¦å­˜åœ¨: ${repoName}`);\n      \n      // ä»ç›®æ ‡åˆ†ç»„URLä¸­æå–åˆ†ç»„è·¯å¾„\n      const groupPath = this.extractGroupPath(this.targetGroupUrl);\n      const apiUrl = `${this.getGitLabApiBase()}/projects/${encodeURIComponent(groupPath + '/' + repoName)}`;\n      \n      const response = await fetch(apiUrl, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${this.accessToken}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (response.status === 200) {\n        const projectData = await response.json();\n        console.log(`âš ï¸ ä»“åº“å·²å­˜åœ¨: ${repoName}`);\n        \n        // æ£€æŸ¥æ˜¯å¦ä¸ºç©ºä»“åº“\n        const isEmpty = await this.checkIfRepositoryIsEmpty(projectData.id);\n        if (isEmpty) {\n          console.log(ConsoleColors.warning(`âš ï¸ ç›®æ ‡ä»“åº“ ${ConsoleColors.highlight(repoName)} æ˜¯ä¸€ä¸ªç©ºä»“åº“`));\n          const shouldContinue = await this.promptUserConfirmation(\n            `ç›®æ ‡ä»“åº“ \"${repoName}\" å·²å­˜åœ¨ä½†æ˜¯ç©ºä»“åº“ï¼Œæ˜¯å¦ç»§ç»­è¿ç§»ï¼Ÿè¿™å°†è¦†ç›–ç©ºä»“åº“çš„å†…å®¹ã€‚\\næ˜¯å¦ç»§ç»­ï¼Ÿ (y/N): `\n          );\n          \n          if (!shouldContinue) {\n            throw new Error('ç”¨æˆ·å–æ¶ˆè¿ç§»æ“ä½œ');\n          }\n          \n          console.log(ConsoleColors.info('ç”¨æˆ·ç¡®è®¤ç»§ç»­è¿ç§»åˆ°ç©ºä»“åº“'));\n          // æ ¹æ®ç›®æ ‡åˆ†ç»„URLçš„åè®®æ¥å†³å®šè¿”å›HTTPSè¿˜æ˜¯SSH URL\n          const targetUrl = this.targetGroupUrl.startsWith('https://') \n            ? projectData.http_url_to_repo \n            : projectData.ssh_url_to_repo;\n          return { exists: true, isEmpty: true, targetUrl };\n        }\n        \n        return { exists: true, isEmpty: false };\n      } else if (response.status === 404) {\n        console.log(`âœ… ä»“åº“ä¸å­˜åœ¨ï¼Œå¯ä»¥åˆ›å»º: ${repoName}`);\n        return { exists: false };\n      } else {\n        throw new Error(`æ£€æŸ¥ä»“åº“å­˜åœ¨æ€§å¤±è´¥ï¼ŒHTTPçŠ¶æ€ç : ${response.status}`);\n      }\n    } catch (error: any) {\n      console.log(`âŒ æ£€æŸ¥ä»“åº“å­˜åœ¨æ€§æ—¶å‘ç”Ÿé”™è¯¯: ${error.message}`);\n      throw error;\n    }\n  }\n\n  /**\n   * æ£€æŸ¥ä»“åº“æ˜¯å¦ä¸ºç©º\n   */\n  private async checkIfRepositoryIsEmpty(projectId: number): Promise<boolean> {\n    try {\n      // æ£€æŸ¥ä»“åº“çš„æäº¤æ•°é‡\n      const commitsUrl = `${this.getGitLabApiBase()}/projects/${projectId}/repository/commits`;\n      const commitsResponse = await fetch(commitsUrl, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${this.accessToken}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (commitsResponse.status === 200) {\n        const commits = await commitsResponse.json();\n        return commits.length === 0;\n      } else if (commitsResponse.status === 404) {\n        // 404è¡¨ç¤ºæ²¡æœ‰æäº¤è®°å½•ï¼Œå³ç©ºä»“åº“\n        return true;\n      }\n      \n      return false;\n    } catch (error: any) {\n      console.log(`âš ï¸ æ£€æŸ¥ä»“åº“æ˜¯å¦ä¸ºç©ºæ—¶å‘ç”Ÿé”™è¯¯: ${error.message}`);\n      // å¦‚æœæ£€æŸ¥å¤±è´¥ï¼Œä¿å®ˆèµ·è§è®¤ä¸ºä¸æ˜¯ç©ºä»“åº“\n      return false;\n    }\n  }\n\n  /**\n   * æç¤ºç”¨æˆ·ç¡®è®¤æ“ä½œ\n   */\n  private async promptUserConfirmation(message: string): Promise<boolean> {\n    return new Promise((resolve) => {\n      const rl = readline.createInterface({\n        input: process.stdin,\n        output: process.stdout\n      });\n      \n      rl.question(message, (answer) => {\n        rl.close();\n        const normalizedAnswer = answer.toLowerCase().trim();\n        resolve(normalizedAnswer === 'y' || normalizedAnswer === 'yes');\n      });\n    });\n  }\n\n  /**\n   * ä»ä»“åº“URLä¸­æå–ä»“åº“å\n   */\n  private extractRepoNameFromUrl(url: string): string {\n    const match = url.match(/\\/([^\\/]+)\\.git$/);\n    if (match) {\n      return match[1];\n    }\n    \n    // å¦‚æœæ²¡æœ‰.gitåç¼€ï¼Œæå–æœ€åä¸€ä¸ªè·¯å¾„æ®µ\n    const segments = url.split('/');\n    return segments[segments.length - 1];\n  }\n\n  /**\n   * å…‹éš†åŸä»“åº“é•œåƒ\n   */\n  private cloneOriginalRepository(repo: TRepository): string {\n    console.log(`ğŸ”„ æ­£åœ¨å…‹éš†åŸä»“åº“é•œåƒ: ${repo.name}`);\n    console.log(ConsoleColors.info(`åŸä»“åº“åœ°å€: ${ConsoleColors.url(repo.originalUrl)}`));\n    \n    // ç¡®ä¿ä¸´æ—¶ç›®å½•å­˜åœ¨\n    if (!existsSync(this.tempDir)) {\n      mkdirSync(this.tempDir, { recursive: true });\n      console.log(ConsoleColors.dim(`åˆ›å»ºä¸´æ—¶ç›®å½•: ${this.tempDir}`));\n    }\n    \n    // ä»ä»“åº“URLä¸­æå–å®é™…çš„ä»“åº“åä½œä¸ºé•œåƒç›®å½•å\n    const actualRepoName = this.extractRepoNameFromUrl(repo.originalUrl);\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n    const randomSuffix = Math.random().toString(36).substring(2, 6);\n    const cloneDirName = `${actualRepoName}-${timestamp}-${randomSuffix}.git`;\n    const cloneDir = path.join(this.tempDir, cloneDirName);\n    console.log(ConsoleColors.info(`é•œåƒç›®å½•: ${ConsoleColors.dim(cloneDir)}`));\n    \n    // å¦‚æœç›®å½•å·²å­˜åœ¨ï¼Œå…ˆåˆ é™¤\n    if (existsSync(cloneDir)) {\n      console.log(ConsoleColors.warning(`åˆ é™¤å·²å­˜åœ¨çš„é•œåƒç›®å½•: ${ConsoleColors.dim(cloneDir)}`));\n      rmSync(cloneDir, { recursive: true, force: true });\n    }\n\n    console.log(ConsoleColors.progress(`å¼€å§‹å…‹éš†é•œåƒ...`));\n    const cloneCommand = `git clone --mirror ${repo.originalUrl} \"${cloneDir}\"`;\n    this.executeCommandWithProgress(cloneCommand);\n    \n    console.log(ConsoleColors.success(`åŸä»“åº“é•œåƒå…‹éš†å®Œæˆ: ${ConsoleColors.dim(cloneDir)}`));\n    return cloneDir;\n  }\n\n  /**\n   * åˆ›å»ºç›®æ ‡ä»“åº“\n   */\n  private async createTargetRepository(repo: TRepository): Promise<string> {\n    try {\n      console.log(ConsoleColors.info(`æ­£åœ¨åˆ›å»ºç›®æ ‡ä»“åº“: ${ConsoleColors.highlight(repo.name)}`));\n      \n      // ä»ç›®æ ‡åˆ†ç»„URLä¸­æå–åˆ†ç»„ID\n      const groupId = await this.getGroupId(this.targetGroupUrl);\n      const apiUrl = `${this.getGitLabApiBase()}/projects`;\n      \n      const projectData = {\n        name: repo.name,\n        path: repo.name,\n        description: repo.description || '',\n        namespace_id: groupId,\n        visibility: 'internal', // è®¾ç½®ä¸ºå†…éƒ¨å¯è§\n        initialize_with_readme: false,\n        issues_enabled: true,\n        merge_requests_enabled: true,\n        wiki_enabled: true,\n        snippets_enabled: true\n      };\n      \n      const response = await fetch(apiUrl, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${this.accessToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(projectData)\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.text();\n        throw new Error(`åˆ›å»ºä»“åº“å¤±è´¥ï¼ŒHTTPçŠ¶æ€ç : ${response.status}ï¼Œé”™è¯¯ä¿¡æ¯: ${errorData}`);\n      }\n      \n      const projectInfo = await response.json();\n      // æ ¹æ®ç›®æ ‡åˆ†ç»„URLçš„åè®®æ¥å†³å®šè¿”å›HTTPSè¿˜æ˜¯SSH URL\n      const targetUrl = this.targetGroupUrl.startsWith('https://') \n        ? projectInfo.http_url_to_repo \n        : projectInfo.ssh_url_to_repo;\n      \n      console.log(ConsoleColors.success(`ç›®æ ‡ä»“åº“åˆ›å»ºå®Œæˆ: ${ConsoleColors.url(targetUrl)}`));\n      return targetUrl;\n    } catch (error: any) {\n      console.log(ConsoleColors.error(`åˆ›å»ºç›®æ ‡ä»“åº“å¤±è´¥: ${error.message}`));\n      throw error;\n    }\n  }\n\n  /**\n   * æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“\n   */\n  private pushMirrorToTarget(cloneDir: string, targetUrl: string): { hasWarnings: boolean; warnings?: string[] } {\n    console.log(ConsoleColors.info(`æ­£åœ¨æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“...`));\n    console.log(ConsoleColors.info(`ç›®æ ‡ä»“åº“åœ°å€: ${ConsoleColors.url(targetUrl)}`));\n    console.log(ConsoleColors.info(`é•œåƒç›®å½•: ${ConsoleColors.dim(cloneDir)}`));\n    \n    const originalCwd = process.cwd();\n    const warnings: string[] = [];\n    let hasWarnings = false;\n    \n    try {\n      // è¿›å…¥å…‹éš†ç›®å½•\n      console.log(ConsoleColors.progress(`åˆ‡æ¢åˆ°é•œåƒç›®å½•: ${cloneDir}`));\n      process.chdir(cloneDir);\n      \n      // è®¾ç½®æ–°çš„è¿œç¨‹åœ°å€\n      console.log(ConsoleColors.progress(`è®¾ç½®ç›®æ ‡ä»“åº“è¿œç¨‹åœ°å€...`));\n      const setUrlCommand = `git remote set-url origin \"${targetUrl}\"`;\n      this.executeCommand(setUrlCommand);\n      \n      // æ¨é€é•œåƒï¼ˆæ”¯æŒéšè—å¼•ç”¨é”™è¯¯é™çº§ä¸ºè­¦å‘Šï¼‰\n      console.log(ConsoleColors.progress(`å¼€å§‹æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“...`));\n      const pushCommand = 'git push --mirror';\n      const pushResult = this.executeCommandWithWarningAndProgress(pushCommand);\n      \n      if (pushResult.warning) {\n        hasWarnings = true;\n        const warningMsg = `æ¨é€æ—¶é‡åˆ°éšè—å¼•ç”¨è­¦å‘Š: ${pushResult.warning}`;\n        warnings.push(warningMsg);\n        console.log(ConsoleColors.info('é•œåƒæ¨é€å®Œæˆï¼ˆå­˜åœ¨è­¦å‘Šï¼Œä½†ä¸å½±å“è¿ç§»ç»“æœï¼‰'));\n      } else {\n        console.log(ConsoleColors.success(`é•œåƒæ¨é€å®Œæˆ`));\n      }\n      \n      return { hasWarnings, warnings: hasWarnings ? warnings : undefined };\n    } finally {\n      // ç¡®ä¿è¿”å›åŸå§‹ç›®å½•\n      console.log(ConsoleColors.progress(`è¿”å›åŸå§‹å·¥ä½œç›®å½•`));\n      process.chdir(originalCwd);\n    }\n  }\n\n  /**\n   * è®¾ç½®ç›®æ ‡ä»“åº“çš„é¡¹ç›®æè¿°\n   */\n  private async updateRepositoryDescription(repoName: string, description: string): Promise<void> {\n    try {\n      console.log(ConsoleColors.info(`æ­£åœ¨æ›´æ–°ä»“åº“æè¿°: ${ConsoleColors.repo(repoName)}`));\n      \n      if (!description || description.trim() === '') {\n        console.log(ConsoleColors.warning(`æè¿°ä¸ºç©ºï¼Œè·³è¿‡æ›´æ–°`));\n        return;\n      }\n      \n      // ä»ç›®æ ‡åˆ†ç»„URLä¸­æå–åˆ†ç»„è·¯å¾„\n      const groupPath = this.extractGroupPath(this.targetGroupUrl);\n      const projectPath = `${groupPath}/${repoName}`;\n      const apiUrl = `${this.getGitLabApiBase()}/projects/${encodeURIComponent(projectPath)}`;\n      \n      const updateData = {\n        description: description.trim()\n      };\n      \n      const response = await fetch(apiUrl, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${this.accessToken}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(updateData)\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.text();\n        throw new Error(`æ›´æ–°ä»“åº“æè¿°å¤±è´¥ï¼ŒHTTPçŠ¶æ€ç : ${response.status}ï¼Œé”™è¯¯ä¿¡æ¯: ${errorData}`);\n      }\n      \n      console.log(ConsoleColors.success(`ä»“åº“æè¿°æ›´æ–°å®Œæˆ: ${ConsoleColors.description(description.trim())}`));\n    } catch (error: any) {\n      console.log(ConsoleColors.error(`æ›´æ–°ä»“åº“æè¿°å¤±è´¥: ${error.message}`));\n      throw error;\n    }\n  }\n\n  /**\n   * å…‹éš†è¿ç§»åçš„ä»“åº“åˆ°æœ¬åœ°\n   */\n  private cloneFinalRepository(targetUrl: string, repoName: string): void {\n    console.log(ConsoleColors.info(`æ­£åœ¨å…‹éš†è¿ç§»åçš„ä»“åº“åˆ°æœ¬åœ°: ${ConsoleColors.repo(repoName)}`));\n    console.log(ConsoleColors.info(`ç›®æ ‡ä»“åº“åœ°å€: ${ConsoleColors.url(targetUrl)}`));\n    console.log(ConsoleColors.info(`æœ¬åœ°ç›®å½•: ${ConsoleColors.dim(repoName)}`));\n    \n    // å¦‚æœç›®å½•å·²å­˜åœ¨ï¼Œå…ˆåˆ é™¤\n    if (existsSync(repoName)) {\n      console.log(ConsoleColors.warning(`åˆ é™¤å·²å­˜åœ¨çš„ç›®å½•: ${ConsoleColors.dim(repoName)}`));\n      rmSync(repoName, { recursive: true, force: true });\n    }\n\n    console.log(ConsoleColors.progress(`å¼€å§‹å…‹éš†è¿ç§»åçš„ä»“åº“...`));\n    const cloneCommand = `git clone \"${targetUrl}\" \"${repoName}\"`;\n    this.executeCommandWithProgress(cloneCommand);\n    \n    console.log(ConsoleColors.success(`è¿ç§»åä»“åº“å…‹éš†å®Œæˆ: ${ConsoleColors.repo(repoName)}`));\n  }\n\n  /**\n   * å»¶è¿Ÿä¿å­˜è¿ç§»æ—¥å¿—ï¼Œé¿å…é¢‘ç¹åˆ›å»ºå¤‡ä»½\n   */\n  private scheduleSaveMigrationLogs(): void {\n    // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨\n    if (this.saveTimeout) {\n      clearTimeout(this.saveTimeout);\n    }\n    \n    // è®¾ç½®æ–°çš„å»¶è¿Ÿä¿å­˜å®šæ—¶å™¨ï¼ˆ2ç§’åä¿å­˜ï¼‰\n    this.saveTimeout = setTimeout(() => {\n      this.saveMigrationLogs();\n      this.saveTimeout = null;\n    }, 2000);\n  }\n\n  /**\n   * å¼ºåˆ¶ä¿å­˜è¿ç§»æ—¥å¿—ï¼ˆç¨‹åºé€€å‡ºæ—¶è°ƒç”¨ï¼‰\n   */\n  public forceSaveMigrationLogs(): void {\n    if (this.saveTimeout) {\n      clearTimeout(this.saveTimeout);\n      this.saveTimeout = null;\n    }\n    this.saveMigrationLogs();\n  }\n\n  /**\n   * æ›´æ–°è¿ç§»æ—¥å¿—\n   */\n  private updateMigrationLog(log: TMigrationLog): void {\n    // æ›´æ–°æœ€åä¿®æ”¹æ—¶é—´\n    log.lastUpdated = new Date().toISOString();\n    \n    // ç¡®ä¿å¿…è¦çš„å­—æ®µå­˜åœ¨\n    if (!log.steps) log.steps = [];\n    if (!log.warnings) log.warnings = [];\n    if (log.retryCount === undefined) log.retryCount = 0;\n    if (!log.errorType && log.failureReason) {\n      log.errorType = 'unknown';\n    }\n    \n    this.logs.set(log.projectName, log);\n    // å»¶è¿Ÿä¿å­˜ï¼Œé¿å…é¢‘ç¹åˆ›å»ºå¤‡ä»½\n    this.scheduleSaveMigrationLogs();\n  }\n\n  /**\n   * åˆ›å»ºé…ç½®æ–‡ä»¶å¤‡ä»½\n   */\n  private createConfigBackup(): string {\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n    const backupPath = this.moveFilePath.replace(/\\.md$/, `.backup.${timestamp}.md`);\n    \n    try {\n      const content = readFileSync(this.moveFilePath, 'utf-8');\n      writeFileSync(backupPath, content, 'utf-8');\n      console.log(ConsoleColors.dim(`ğŸ“‹ å·²åˆ›å»ºé…ç½®æ–‡ä»¶å¤‡ä»½: ${path.basename(backupPath)}`));\n      return backupPath;\n    } catch (error) {\n      console.log(ConsoleColors.warning(`âš ï¸  åˆ›å»ºå¤‡ä»½å¤±è´¥: ${error instanceof Error ? error.message : String(error)}`));\n      return '';\n    }\n  }\n\n  /**\n   * æ¸…ç†æ—§å¤‡ä»½æ–‡ä»¶ï¼ˆä¿ç•™æœ€è¿‘5ä¸ªï¼‰\n   */\n  private cleanupOldBackups(): void {\n    try {\n      const dir = path.dirname(this.moveFilePath);\n      const baseName = path.basename(this.moveFilePath, '.md');\n      const files = readdirSync(dir);\n       \n       const backupFiles = files\n         .filter((file: string) => file.startsWith(`${baseName}.backup.`) && file.endsWith('.md'))\n         .map((file: string) => ({\n           name: file,\n           path: path.join(dir, file),\n           time: statSync(path.join(dir, file)).mtime\n         }))\n        .sort((a: any, b: any) => b.time.getTime() - a.time.getTime());\n      \n      // ä¿ç•™æœ€è¿‘5ä¸ªå¤‡ä»½ï¼Œåˆ é™¤å…¶ä½™çš„\n      if (backupFiles.length > 5) {\n        const filesToDelete = backupFiles.slice(5);\n        filesToDelete.forEach((file: any) => {\n          try {\n            rmSync(file.path);\n            console.log(ConsoleColors.dim(`ğŸ—‘ï¸  å·²åˆ é™¤æ—§å¤‡ä»½: ${file.name}`));\n          } catch (error) {\n            console.log(ConsoleColors.warning(`âš ï¸  åˆ é™¤å¤‡ä»½å¤±è´¥: ${file.name}`));\n          }\n        });\n      }\n    } catch (error) {\n      // æ¸…ç†å¤±è´¥ä¸å½±å“ä¸»æµç¨‹ï¼Œåªè®°å½•è­¦å‘Š\n      console.log(ConsoleColors.dim('âš ï¸  æ¸…ç†æ—§å¤‡ä»½æ—¶å‡ºç°é—®é¢˜ï¼Œä½†ä¸å½±å“ä¸»æµç¨‹'));\n    }\n  }\n\n  /**\n   * æ¸…ç†æ—§çš„ä¸´æ—¶ç›®å½•ï¼ˆä¿ç•™æœ€è¿‘3ä¸ªï¼Œåˆ é™¤è¶…è¿‡24å°æ—¶çš„ï¼‰\n   */\n  /**\n   * æ¸…ç†æ—§çš„ä¸´æ—¶ç›®å½•\n   * å¢å¼ºç‰ˆæœ¬ï¼šæ›´å¥½çš„é”™è¯¯å¤„ç†ã€è¯¦ç»†æ—¥å¿—ã€ç©ºç›®å½•æ£€æµ‹ã€å¼ºåˆ¶æ¸…ç†ç­–ç•¥\n   */\n  private cleanupOldTempDirectories(): void {\n    try {\n      const currentDir = process.cwd();\n      \n      // æ£€æŸ¥å½“å‰ç›®å½•æ˜¯å¦å­˜åœ¨\n      if (!existsSync(currentDir)) {\n        console.warn(ConsoleColors.warning('å½“å‰ç›®å½•ä¸å­˜åœ¨ï¼Œè·³è¿‡ä¸´æ—¶ç›®å½•æ¸…ç†'));\n        return;\n      }\n      \n      const files = readdirSync(currentDir);\n      const now = new Date().getTime();\n      const oneDayMs = 24 * 60 * 60 * 1000; // 24å°æ—¶çš„æ¯«ç§’æ•°\n      const oneHourMs = 60 * 60 * 1000; // 1å°æ—¶çš„æ¯«ç§’æ•°\n      \n      // æŸ¥æ‰¾æ‰€æœ‰ä¸´æ—¶ç›®å½•\n      const tempDirs = files\n        .filter((file: string) => {\n          try {\n            return file.startsWith('temp-migration-') && \n                   statSync(path.join(currentDir, file)).isDirectory();\n          } catch {\n            return false;\n          }\n        })\n        .map((dir: string) => {\n          const dirPath = path.join(currentDir, dir);\n          try {\n            const stat = statSync(dirPath);\n            \n            // æ£€æŸ¥ç›®å½•æ˜¯å¦ä¸ºç©º\n            let isEmpty = false;\n            let fileCount = 0;\n            try {\n              const dirContents = readdirSync(dirPath);\n              fileCount = dirContents.length;\n              isEmpty = fileCount === 0;\n            } catch (error) {\n              console.warn(ConsoleColors.warning(`æ£€æŸ¥ç›®å½• ${dir} å†…å®¹æ—¶å‡ºé”™: ${error}`));\n            }\n            \n            return {\n              name: dir,\n              path: dirPath,\n              time: stat.mtime,\n              age: now - stat.mtime.getTime(),\n              isEmpty: isEmpty,\n              fileCount: fileCount,\n              size: this.getDirectorySize(dirPath)\n            };\n          } catch (error) {\n            console.warn(ConsoleColors.warning(`è·å–ç›®å½• ${dir} ä¿¡æ¯æ—¶å‡ºé”™: ${error}`));\n            return null;\n          }\n        })\n        .filter((dir): dir is NonNullable<typeof dir> => dir !== null)\n        .sort((a, b) => b.time.getTime() - a.time.getTime());\n      \n      if (tempDirs.length === 0) {\n        console.log(ConsoleColors.dim('æœªå‘ç°éœ€è¦æ¸…ç†çš„ä¸´æ—¶ç›®å½•'));\n        return;\n      }\n\n      console.log(ConsoleColors.info(`å‘ç° ${tempDirs.length} ä¸ªä¸´æ—¶ç›®å½•`));\n      \n      // åˆ†ç±»éœ€è¦åˆ é™¤çš„ç›®å½•\n      const emptyDirs = tempDirs.filter(dir => dir.isEmpty);\n      const oldDirs = tempDirs.filter(dir => dir.age > oneDayMs && !dir.isEmpty);\n      const veryOldDirs = tempDirs.filter(dir => dir.age > oneHourMs && !dir.isEmpty); // è¶…è¿‡1å°æ—¶çš„éç©ºç›®å½•\n      const excessDirs = tempDirs.slice(3).filter(dir => !dir.isEmpty && dir.age < oneDayMs);\n      \n      // å¼ºåˆ¶æ¸…ç†ç­–ç•¥ï¼šç©ºç›®å½•ç«‹å³åˆ é™¤ï¼Œè¶…è¿‡1å°æ—¶çš„ç›®å½•ä¹Ÿåˆ é™¤ï¼ˆè€Œä¸æ˜¯24å°æ—¶ï¼‰\n      const dirsToDelete = [\n        ...emptyDirs, // æ‰€æœ‰ç©ºç›®å½•\n        ...oldDirs,   // è¶…è¿‡24å°æ—¶çš„ç›®å½•\n        ...excessDirs, // è¶…å‡ºä¿ç•™æ•°é‡çš„ç›®å½•\n        ...veryOldDirs.filter(dir => !oldDirs.includes(dir) && !excessDirs.includes(dir)) // è¶…è¿‡1å°æ—¶ä½†ä¸åœ¨å…¶ä»–åˆ†ç±»ä¸­çš„ç›®å½•\n      ];\n      \n      // å»é‡\n      const uniqueDirsToDelete = Array.from(new Set(dirsToDelete));\n      \n      if (uniqueDirsToDelete.length === 0) {\n        console.log(ConsoleColors.dim('æ‰€æœ‰ä¸´æ—¶ç›®å½•éƒ½åœ¨ä¿ç•™èŒƒå›´å†…ï¼Œæ— éœ€æ¸…ç†'));\n        return;\n      }\n\n      console.log(ConsoleColors.info(`ğŸ§¹ å‡†å¤‡æ¸…ç† ${uniqueDirsToDelete.length} ä¸ªä¸´æ—¶ç›®å½•:`));\n      if (emptyDirs.length > 0) {\n        console.log(ConsoleColors.dim(`  - ${emptyDirs.length} ä¸ªç©ºç›®å½•`));\n      }\n      if (oldDirs.length > 0) {\n        console.log(ConsoleColors.dim(`  - ${oldDirs.length} ä¸ªè¶…è¿‡24å°æ—¶çš„ç›®å½•`));\n      }\n      if (veryOldDirs.length > 0) {\n        console.log(ConsoleColors.dim(`  - ${veryOldDirs.filter(dir => !oldDirs.includes(dir)).length} ä¸ªè¶…è¿‡1å°æ—¶çš„ç›®å½•`));\n      }\n      if (excessDirs.length > 0) {\n        console.log(ConsoleColors.dim(`  - ${excessDirs.length} ä¸ªè¶…å‡ºä¿ç•™æ•°é‡çš„ç›®å½•`));\n      }\n      \n      let successCount = 0;\n      let failureCount = 0;\n      \n      uniqueDirsToDelete.forEach(dir => {\n        try {\n          const ageHours = Math.round(dir.age / oneHourMs * 10) / 10;\n          const sizeInfo = dir.size > 0 ? ` (${this.formatBytes(dir.size)})` : ' (ç©º)';\n          const ageInfo = ageHours < 1 ? ' (æ–°å»º)' : ` (${ageHours}hå‰)`;\n          \n          rmSync(dir.path, { recursive: true, force: true });\n          console.log(ConsoleColors.dim(`  âœ“ å·²åˆ é™¤: ${dir.name}${sizeInfo}${ageInfo}`));\n          successCount++;\n        } catch (error) {\n          console.warn(ConsoleColors.warning(`  âœ— åˆ é™¤å¤±è´¥: ${dir.name} - ${error}`));\n          failureCount++;\n        }\n      });\n      \n      // æ¸…ç†ç»“æœæ‘˜è¦\n      if (successCount > 0) {\n        console.log(ConsoleColors.success(`âœ“ æˆåŠŸæ¸…ç† ${successCount} ä¸ªä¸´æ—¶ç›®å½•`));\n      }\n      if (failureCount > 0) {\n        console.warn(ConsoleColors.warning(`âš  ${failureCount} ä¸ªç›®å½•æ¸…ç†å¤±è´¥`));\n      }\n      \n    } catch (error) {\n      console.warn(ConsoleColors.warning(`æ¸…ç†ä¸´æ—¶ç›®å½•æ—¶å‡ºé”™: ${error}`));\n    }\n  }\n  \n  /**\n   * è·å–ç›®å½•å¤§å°ï¼ˆå­—èŠ‚ï¼‰\n   */\n  private getDirectorySize(dirPath: string): number {\n    try {\n      let totalSize = 0;\n      const files = readdirSync(dirPath);\n      \n      for (const file of files) {\n        const filePath = path.join(dirPath, file);\n        const stats = statSync(filePath);\n        \n        if (stats.isDirectory()) {\n          totalSize += this.getDirectorySize(filePath);\n        } else {\n          totalSize += stats.size;\n        }\n      }\n      \n      return totalSize;\n    } catch (error) {\n      return 0;\n    }\n  }\n  \n  /**\n   * æ ¼å¼åŒ–å­—èŠ‚å¤§å°ä¸ºå¯è¯»æ ¼å¼\n   */\n  private formatBytes(bytes: number): string {\n    if (bytes === 0) return '0 B';\n    \n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    \n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n  }\n\n  /**\n   * ä¿å­˜è¿ç§»æ—¥å¿—åˆ°move.mdæ–‡ä»¶\n   */\n  private saveMigrationLogs(): void {\n    try {\n      // åªåœ¨é‡è¦èŠ‚ç‚¹åˆ›å»ºå¤‡ä»½ï¼ˆå¦‚è¿ç§»å®Œæˆæˆ–å¤±è´¥ï¼‰\n      const shouldCreateBackup = Array.from(this.logs.values()).some(log => \n        log.isFinalCloned || log.failureReason\n      );\n      \n      if (shouldCreateBackup) {\n        this.createConfigBackup();\n      }\n      \n      // ç¡®ä¿ç›®å½•å­˜åœ¨\n      const dir = path.dirname(this.moveFilePath);\n      if (!existsSync(dir)) {\n        mkdirSync(dir, { recursive: true });\n      }\n      \n      // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™åˆ›å»ºåŸºç¡€å†…å®¹\n      let content: string;\n      if (existsSync(this.moveFilePath)) {\n        content = readFileSync(this.moveFilePath, 'utf-8');\n      } else {\n        console.log('ğŸ“ move.md æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶');\n        content = '# GitLab ä»“åº“è¿ç§»é…ç½®\\n\\n## æ—¥å¿—';\n      }\n      \n      const lines = content.split('\\n');\n      \n      // æ‰¾åˆ°æ—¥å¿—éƒ¨åˆ†çš„å¼€å§‹ä½ç½®\n      let logStartIndex = lines.findIndex(line => line.includes('## æ—¥å¿—'));\n      let beforeLogLines: string[];\n      \n      if (logStartIndex === -1) {\n        // å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ—¥å¿—éƒ¨åˆ†ï¼Œè‡ªåŠ¨æ·»åŠ \n        console.log('ğŸ“ æœªæ‰¾åˆ°æ—¥å¿—éƒ¨åˆ†ï¼Œè‡ªåŠ¨åˆ›å»ºæ—¥å¿—éƒ¨åˆ†');\n        beforeLogLines = [...lines, '', '## æ—¥å¿—'];\n      } else {\n        // ä¿ç•™æ—¥å¿—éƒ¨åˆ†ä¹‹å‰çš„å†…å®¹\n        beforeLogLines = lines.slice(0, logStartIndex + 1);\n      }\n      \n      // ç”Ÿæˆæ–°çš„æ—¥å¿—å†…å®¹\n      const logLines: string[] = [''];\n      \n      // ä¸¥æ ¼æŒ‰ç…§ move.md æ–‡ä»¶ä¸­çš„é¡¹ç›®é¡ºåºæ·»åŠ æ—¥å¿—è®°å½•ï¼Œåªä¿å­˜é…ç½®æ–‡ä»¶ä¸­å­˜åœ¨çš„é¡¹ç›®\n      const configuredProjectNames = new Set(this.repositories.map(repo => repo.name));\n      let savedLogsCount = 0;\n      \n      for (const repo of this.repositories) {\n        const log = this.logs.get(repo.name);\n        if (log && configuredProjectNames.has(repo.name)) {\n          logLines.push(`### ${log.projectName}`);\n          logLines.push(`- **é¡¹ç›®åç§°**: ${log.projectName}`);\n          logLines.push(`- **é¡¹ç›®æè¿°**: ${log.projectDescription}`);\n          logLines.push(`- **åŸä»“åº“åœ°å€**: ${log.originalRepoUrl}`);\n          logLines.push(`- **ç›®æ ‡åˆ†ç»„**: ${log.targetGroup}`);\n          logLines.push(`- **ç›®æ ‡ä»“åº“åœ°å€**: ${log.targetRepoUrl}`);\n          logLines.push(`- **å¼€å§‹æ—¶é—´**: ${log.startTime}`);\n          logLines.push(`- **ç»“æŸæ—¶é—´**: ${log.endTime}`);\n          logLines.push(`- **è€—æ—¶**: ${log.duration}`);\n          logLines.push(`- **æ˜¯å¦å·²å…‹éš†åŸä»“åº“é•œåƒ**: ${log.isOriginalCloned ? 'âœ…' : 'âŒ'}`);\n          logLines.push(`- **æ˜¯å¦å·²åˆ›å»ºç›®æ ‡ä»“åº“**: ${log.isTargetCreated ? 'âœ…' : 'âŒ'}`);\n          logLines.push(`- **æ˜¯å¦å·²æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“**: ${log.isMirrorPushed ? 'âœ…' : 'âŒ'}`);\n          logLines.push(`- **æ˜¯å¦å·²ä¿®æ”¹ç›®æ ‡ä»“åº“çš„é¡¹ç›®æè¿°**: ${log.isDescriptionUpdated ? 'âœ…' : 'âŒ'}`);\n          logLines.push(`- **æ˜¯å¦å·²å…‹éš†è¿ç§»åçš„ä»“åº“**: ${log.isFinalCloned ? 'âœ…' : 'âŒ'}`);\n          if (log.warnings && log.warnings.length > 0) {\n            logLines.push(`- **è­¦å‘ŠåŸå› **: ${log.warnings.join('; ')}`);\n          }\n          if (log.failureReason) {\n            logLines.push(`- **å¤±è´¥åŸå› **: ${log.failureReason}`);\n          }\n          logLines.push('');\n          savedLogsCount++;\n        }\n      }\n      \n      // åˆå¹¶æ‰€æœ‰å†…å®¹\n      const newContent = [...beforeLogLines, ...logLines].join('\\n');\n      \n      // å†™å…¥æ–‡ä»¶\n      writeFileSync(this.moveFilePath, newContent, 'utf-8');\n      \n      console.log(`ğŸ’¾ å·²ä¿å­˜ ${savedLogsCount} ä¸ªé¡¹ç›®çš„è¿ç§»æ—¥å¿—ï¼Œé¡ºåºä¸é…ç½®æ–‡ä»¶ä¸€è‡´`);\n      \n    } catch (error: any) {\n      console.error(`âŒ ä¿å­˜æ—¥å¿—å¤±è´¥: ${error.message}`);\n    }\n  }\n\n  /**\n   * è®°å½•è¿ç§»æ­¥éª¤\n   */\n  private recordMigrationStep(\n    projectName: string,\n    stepName: string,\n    status: TStepStatus,\n    error?: string,\n    errorType?: TErrorType,\n    warnings?: string[]\n  ): void {\n    const log = this.logs.get(projectName);\n    if (!log) return;\n\n    const existingStepIndex = log.steps.findIndex(step => step.name === stepName);\n    const now = new Date().toISOString();\n    \n    if (existingStepIndex >= 0) {\n      // æ›´æ–°ç°æœ‰æ­¥éª¤\n      const step = log.steps[existingStepIndex];\n      const startTime = step.startTime || now;\n      \n      log.steps[existingStepIndex] = {\n        ...step,\n        status,\n        endTime: status === 'completed' || status === 'failed' || status === 'warning' ? now : step.endTime,\n        duration: status === 'completed' || status === 'failed' || status === 'warning' \n          ? new Date(now).getTime() - new Date(startTime).getTime() \n          : step.duration,\n        error,\n        errorType,\n        warnings: warnings || step.warnings || []\n      };\n    } else {\n      // æ·»åŠ æ–°æ­¥éª¤\n      log.steps.push({\n        name: stepName,\n        status,\n        startTime: status === 'in_progress' ? now : undefined,\n        endTime: status === 'completed' || status === 'failed' || status === 'warning' ? now : undefined,\n        duration: status === 'completed' || status === 'failed' || status === 'warning' ? 0 : undefined,\n        error,\n        errorType,\n        warnings: warnings || []\n      });\n    }\n\n    this.updateMigrationLog(log);\n  }\n\n  /**\n   * æ·»åŠ è­¦å‘Šä¿¡æ¯\n   */\n  private addWarning(projectName: string, warning: string): void {\n    const log = this.logs.get(projectName);\n    if (!log) return;\n\n    if (!log.warnings.includes(warning)) {\n      log.warnings.push(warning);\n      this.updateMigrationLog(log);\n    }\n  }\n\n  /**\n   * åˆ†ç±»é”™è¯¯ç±»å‹\n   */\n  private classifyError(error: string): TErrorType {\n    const errorLower = error.toLowerCase();\n    \n    // Git æ“ä½œé”™è¯¯ - æ›´è¯¦ç»†çš„æ¨¡å¼åŒ¹é…\n    if (errorLower.includes('git') || \n        errorLower.includes('clone') || \n        errorLower.includes('push') || \n        errorLower.includes('pull') || \n        errorLower.includes('fetch') ||\n        errorLower.includes('remote') ||\n        errorLower.includes('repository not found') ||\n        errorLower.includes('authentication failed') ||\n        errorLower.includes('fatal: not a git repository') ||\n        errorLower.includes('fatal: repository') ||\n        errorLower.includes('error: failed to push') ||\n        errorLower.includes('error: src refspec') ||\n        errorLower.includes('error: pathspec') ||\n        errorLower.includes('fatal: could not read from remote repository') ||\n        errorLower.includes('fatal: unable to access') ||\n        errorLower.includes('ssh: connect to host') ||\n        errorLower.includes('host key verification failed') ||\n        errorLower.includes('permission denied (publickey)') ||\n        errorLower.includes('branch not found') ||\n        errorLower.includes('ref does not exist') ||\n        errorLower.includes('non-fast-forward') ||\n        errorLower.includes('merge conflict') ||\n        errorLower.includes('working tree clean')) {\n      return 'git_operation';\n    }\n    \n    // API æ“ä½œé”™è¯¯ - å¢å¼º GitLab API ç‰¹å®šé”™è¯¯\n    if (errorLower.includes('api') || \n        errorLower.includes('http') || \n        errorLower.includes('401') || \n        errorLower.includes('403') || \n        errorLower.includes('404') || \n        errorLower.includes('422') || \n        errorLower.includes('500') || \n        errorLower.includes('502') || \n        errorLower.includes('503') ||\n        errorLower.includes('unauthorized') ||\n        errorLower.includes('forbidden') ||\n        errorLower.includes('bad gateway') ||\n        errorLower.includes('service unavailable') ||\n        errorLower.includes('internal server error') ||\n        errorLower.includes('gitlab api') ||\n        errorLower.includes('project already exists') ||\n        errorLower.includes('name has already been taken') ||\n        errorLower.includes('path has already been taken') ||\n        errorLower.includes('invalid token') ||\n        errorLower.includes('token expired') ||\n        errorLower.includes('insufficient scope')) {\n      return 'api_operation';\n    }\n    \n    // ç½‘ç»œé”™è¯¯ - å¢å¼ºç½‘ç»œç›¸å…³é”™è¯¯æ¨¡å¼\n    if (errorLower.includes('network') || \n        errorLower.includes('timeout') || \n        errorLower.includes('connection') || \n        errorLower.includes('dns') ||\n        errorLower.includes('enotfound') ||\n        errorLower.includes('econnrefused') ||\n        errorLower.includes('econnreset') ||\n        errorLower.includes('etimedout') ||\n        errorLower.includes('socket hang up') ||\n        errorLower.includes('network is unreachable') ||\n        errorLower.includes('host is unreachable') ||\n        errorLower.includes('connection timed out') ||\n        errorLower.includes('unable to resolve host') ||\n        errorLower.includes('name resolution failed') ||\n        errorLower.includes('temporary failure in name resolution')) {\n      return 'network';\n    }\n    \n    // æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ - æ–‡ä»¶æ“ä½œç›¸å…³é”™è¯¯\n    if (errorLower.includes('ebusy') ||\n        errorLower.includes('resource busy or locked') ||\n        errorLower.includes('file is being used by another process') ||\n        errorLower.includes('cannot delete') ||\n        errorLower.includes('cannot remove') ||\n        errorLower.includes('directory not empty') ||\n        errorLower.includes('enoent') ||\n        errorLower.includes('no such file or directory') ||\n        errorLower.includes('eacces') ||\n        errorLower.includes('permission denied') ||\n        errorLower.includes('eperm') ||\n        errorLower.includes('operation not permitted') ||\n        errorLower.includes('emfile') ||\n        errorLower.includes('too many open files') ||\n        errorLower.includes('enospc') ||\n        errorLower.includes('no space left on device') ||\n        errorLower.includes('disk full') ||\n        errorLower.includes('cleanup failed') ||\n        errorLower.includes('failed to delete') ||\n        errorLower.includes('failed to remove')) {\n      return 'filesystem';\n    }\n    \n    // æƒé™é”™è¯¯ - å¢å¼ºæƒé™ç›¸å…³é”™è¯¯æ¨¡å¼\n    if (errorLower.includes('permission') || \n        errorLower.includes('access') || \n        errorLower.includes('denied') ||\n        errorLower.includes('insufficient privileges') ||\n        errorLower.includes('not authorized') ||\n        errorLower.includes('access forbidden') ||\n        errorLower.includes('you are not allowed') ||\n        errorLower.includes('insufficient permissions') ||\n        errorLower.includes('operation not permitted') ||\n        errorLower.includes('access level') ||\n        errorLower.includes('maintainer access required') ||\n        errorLower.includes('owner access required')) {\n      return 'permission';\n    }\n    \n    // éªŒè¯é”™è¯¯ - å¢å¼ºæ•°æ®éªŒè¯é”™è¯¯æ¨¡å¼\n    if (errorLower.includes('validation') || \n        errorLower.includes('invalid') || \n        errorLower.includes('malformed') ||\n        errorLower.includes('format') ||\n        errorLower.includes('bad request') ||\n        errorLower.includes('unprocessable entity') ||\n        errorLower.includes('missing required') ||\n        errorLower.includes('field is required') ||\n        errorLower.includes('must be') ||\n        errorLower.includes('cannot be blank') ||\n        errorLower.includes('is too long') ||\n        errorLower.includes('is too short') ||\n        errorLower.includes('contains invalid characters') ||\n        errorLower.includes('url is invalid') ||\n        errorLower.includes('email is invalid')) {\n      return 'validation';\n    }\n    \n    return 'unknown';\n  }\n\n  /**\n   * è·å–å¯è¯»çš„é”™è¯¯ä¿¡æ¯\n   */\n  private getReadableErrorMessage(error: string, errorType: TErrorType): string {\n    const baseMessage = error.length > 200 ? error.substring(0, 200) + '...' : error;\n    const errorLower = baseMessage.toLowerCase();\n    \n    switch (errorType) {\n      case 'git_operation':\n        if (errorLower.includes('clone')) {\n          return `Git å…‹éš†å¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥æºä»“åº“åœ°å€æ˜¯å¦æ­£ç¡®ï¼Œç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸ã€‚`;\n        } else if (errorLower.includes('push')) {\n          return `Git æ¨é€å¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥ç›®æ ‡ä»“åº“æƒé™å’Œç½‘ç»œè¿æ¥ã€‚`;\n        } else if (errorLower.includes('fetch')) {\n          return `Git è·å–å¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥ä»“åº“åœ°å€å’Œç½‘ç»œè¿æ¥ã€‚`;\n        } else if (errorLower.includes('authentication failed')) {\n          return `Git è®¤è¯å¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥ Access Token æ˜¯å¦æœ‰æ•ˆã€‚`;\n        } else {\n          return `Git æ“ä½œå¤±è´¥: ${baseMessage}`;\n        }\n        \n      case 'api_operation':\n        if (errorLower.includes('401')) {\n          return `API è®¤è¯å¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥ Access Token æ˜¯å¦æœ‰æ•ˆä¸”å…·æœ‰è¶³å¤Ÿæƒé™ã€‚`;\n        } else if (errorLower.includes('403')) {\n          return `API æƒé™ä¸è¶³: ${baseMessage}ã€‚è¯·ç¡®ä¿ Access Token å…·æœ‰åˆ›å»ºä»“åº“å’Œç®¡ç†é¡¹ç›®çš„æƒé™ã€‚`;\n        } else if (errorLower.includes('404')) {\n          return `API èµ„æºæœªæ‰¾åˆ°: ${baseMessage}ã€‚è¯·æ£€æŸ¥ç›®æ ‡åˆ†ç»„è·¯å¾„æ˜¯å¦æ­£ç¡®ã€‚`;\n        } else if (errorLower.includes('409')) {\n          return `API èµ„æºå†²çª: ${baseMessage}ã€‚ç›®æ ‡ä»“åº“å¯èƒ½å·²å­˜åœ¨ï¼Œè¯·æ£€æŸ¥ä»“åº“åç§°ã€‚`;\n        } else if (errorLower.includes('422')) {\n          return `API å‚æ•°éªŒè¯å¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥ä»“åº“åç§°å’Œæè¿°æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚`;\n        } else if (errorLower.includes('500')) {\n          return `API æœåŠ¡å™¨é”™è¯¯: ${baseMessage}ã€‚GitLab æœåŠ¡å™¨å¯èƒ½æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•ã€‚`;\n        } else {\n          return `API è°ƒç”¨å¤±è´¥: ${baseMessage}`;\n        }\n        \n      case 'network':\n        if (errorLower.includes('timeout')) {\n          return `ç½‘ç»œè¶…æ—¶: ${baseMessage}ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•ã€‚`;\n        } else if (errorLower.includes('enotfound') || errorLower.includes('getaddrinfo')) {\n          return `DNS è§£æå¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œ GitLab æœåŠ¡å™¨åœ°å€ã€‚`;\n        } else if (errorLower.includes('econnrefused')) {\n          return `è¿æ¥è¢«æ‹’ç»: ${baseMessage}ã€‚è¯·æ£€æŸ¥ GitLab æœåŠ¡å™¨æ˜¯å¦å¯è®¿é—®ã€‚`;\n        } else {\n          return `ç½‘ç»œè¿æ¥å¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥çŠ¶æ€ã€‚`;\n        }\n        \n      case 'permission':\n        if (errorLower.includes('access denied')) {\n          return `è®¿é—®è¢«æ‹’ç»: ${baseMessage}ã€‚è¯·æ£€æŸ¥ Access Token æƒé™æˆ–è”ç³»ç®¡ç†å‘˜ã€‚`;\n        } else if (errorLower.includes('insufficient privileges')) {\n          return `æƒé™ä¸è¶³: ${baseMessage}ã€‚è¯·ç¡®ä¿å…·æœ‰ç›®æ ‡åˆ†ç»„çš„åˆ›å»ºä»“åº“æƒé™ã€‚`;\n        } else {\n          return `æƒé™ä¸è¶³: ${baseMessage}ã€‚è¯·æ£€æŸ¥ç›¸å…³æƒé™è®¾ç½®ã€‚`;\n        }\n        \n      case 'validation':\n        if (errorLower.includes('invalid repository name')) {\n          return `ä»“åº“åç§°æ— æ•ˆ: ${baseMessage}ã€‚è¯·ä½¿ç”¨æœ‰æ•ˆçš„ä»“åº“åç§°æ ¼å¼ã€‚`;\n        } else if (errorLower.includes('invalid group path')) {\n          return `åˆ†ç»„è·¯å¾„æ— æ•ˆ: ${baseMessage}ã€‚è¯·æ£€æŸ¥ç›®æ ‡åˆ†ç»„è·¯å¾„æ ¼å¼ã€‚`;\n        } else {\n          return `æ•°æ®éªŒè¯å¤±è´¥: ${baseMessage}ã€‚è¯·æ£€æŸ¥è¾“å…¥å‚æ•°çš„æ ¼å¼å’Œæœ‰æ•ˆæ€§ã€‚`;\n        }\n        \n      case 'filesystem':\n        if (errorLower.includes('ebusy') || errorLower.includes('resource busy or locked')) {\n          return `æ–‡ä»¶ç³»ç»Ÿå¿™ç¢Œ: ${baseMessage}ã€‚æ–‡ä»¶æ­£è¢«å…¶ä»–è¿›ç¨‹ä½¿ç”¨ï¼Œè¿™é€šå¸¸ä¸å½±å“è¿ç§»ç»“æœã€‚`;\n        } else if (errorLower.includes('cannot delete') || errorLower.includes('cannot remove')) {\n          return `æ–‡ä»¶åˆ é™¤å¤±è´¥: ${baseMessage}ã€‚ä¸´æ—¶æ–‡ä»¶æ¸…ç†å¤±è´¥ï¼Œä½†ä¸å½±å“è¿ç§»ç»“æœã€‚`;\n        } else if (errorLower.includes('enoent') || errorLower.includes('no such file or directory')) {\n          return `æ–‡ä»¶ä¸å­˜åœ¨: ${baseMessage}ã€‚ç›®æ ‡æ–‡ä»¶å¯èƒ½å·²è¢«åˆ é™¤ï¼Œè¿™é€šå¸¸ä¸å½±å“è¿ç§»ç»“æœã€‚`;\n        } else if (errorLower.includes('enospc') || errorLower.includes('no space left on device')) {\n          return `ç£ç›˜ç©ºé—´ä¸è¶³: ${baseMessage}ã€‚è¯·æ¸…ç†ç£ç›˜ç©ºé—´åé‡è¯•ã€‚`;\n        } else {\n          return `æ–‡ä»¶ç³»ç»Ÿé”™è¯¯: ${baseMessage}ã€‚è¿™é€šå¸¸ä¸å½±å“è¿ç§»ç»“æœï¼Œå¯ä»¥å¿½ç•¥ã€‚`;\n        }\n        \n      default:\n          return `æœªçŸ¥é”™è¯¯: ${baseMessage}ã€‚å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒã€‚`;\n    }\n  }\n\n  /**\n   * é¢„æ£€æŸ¥æœºåˆ¶ï¼šéªŒè¯è¿ç§»å‰çš„å„é¡¹æ¡ä»¶\n   */\n  private async performPreChecks(): Promise<{ success: boolean; errors: string[] }> {\n    const errors: string[] = [];\n    \n    console.log('ğŸ” å¼€å§‹æ‰§è¡Œé¢„æ£€æŸ¥...');\n    \n    try {\n      // 1. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§\n      console.log('1. æ£€æŸ¥ç½‘ç»œè¿é€šæ€§...');\n      const networkCheck = await this.checkNetworkConnectivity();\n      if (!networkCheck.success) {\n        errors.push(`ç½‘ç»œè¿é€šæ€§æ£€æŸ¥å¤±è´¥: ${networkCheck.error}`);\n      } else {\n        console.log('âœ“ ç½‘ç»œè¿é€šæ€§æ­£å¸¸');\n      }\n      \n      // 2. éªŒè¯ GitLab API æƒé™\n      console.log('2. éªŒè¯ GitLab API æƒé™...');\n      const apiCheck = await this.checkGitLabApiPermissions();\n      if (!apiCheck.success) {\n        errors.push(`GitLab API æƒé™éªŒè¯å¤±è´¥: ${apiCheck.error}`);\n      } else {\n        console.log('âœ“ GitLab API æƒé™éªŒè¯é€šè¿‡');\n      }\n      \n      // 3. éªŒè¯ç›®æ ‡åˆ†ç»„è®¿é—®æƒé™\n      console.log('3. éªŒè¯ç›®æ ‡åˆ†ç»„è®¿é—®æƒé™...');\n      const groupCheck = await this.checkTargetGroupPermissions();\n      if (!groupCheck.success) {\n        errors.push(`ç›®æ ‡åˆ†ç»„æƒé™éªŒè¯å¤±è´¥: ${groupCheck.error}`);\n      } else {\n        console.log('âœ“ ç›®æ ‡åˆ†ç»„æƒé™éªŒè¯é€šè¿‡');\n      }\n      \n      // 4. æ£€æŸ¥æœ¬åœ° Git ç¯å¢ƒ\n      console.log('4. æ£€æŸ¥æœ¬åœ° Git ç¯å¢ƒ...');\n      const gitCheck = await this.checkLocalGitEnvironment();\n      if (!gitCheck.success) {\n        errors.push(`æœ¬åœ° Git ç¯å¢ƒæ£€æŸ¥å¤±è´¥: ${gitCheck.error}`);\n      } else {\n        console.log('âœ“ æœ¬åœ° Git ç¯å¢ƒæ­£å¸¸');\n      }\n      \n      const success = errors.length === 0;\n      if (success) {\n        console.log('âœ… æ‰€æœ‰é¢„æ£€æŸ¥é¡¹ç›®é€šè¿‡ï¼Œå¯ä»¥å¼€å§‹è¿ç§»');\n      } else {\n        console.log('âŒ é¢„æ£€æŸ¥å‘ç°é—®é¢˜ï¼Œè¯·è§£å†³åé‡è¯•');\n        errors.forEach(error => console.log(`  - ${error}`));\n      }\n      \n      return { success, errors };\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : String(error);\n      errors.push(`é¢„æ£€æŸ¥è¿‡ç¨‹ä¸­å‘ç”Ÿå¼‚å¸¸: ${errorMsg}`);\n      return { success: false, errors };\n    }\n  }\n\n  /**\n   * æ£€æŸ¥ç½‘ç»œè¿é€šæ€§\n   */\n  private async checkNetworkConnectivity(): Promise<{ success: boolean; error?: string }> {\n    try {\n      // æ£€æŸ¥ç›®æ ‡ GitLab æœåŠ¡å™¨è¿é€šæ€§\n      const gitlabHost = new URL(this.targetGroupUrl).hostname;\n      const response = await fetch(`https://${gitlabHost}/api/v4/version`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${this.accessToken}`\n        },\n        signal: AbortSignal.timeout(10000) // 10ç§’è¶…æ—¶\n      });\n      \n      if (!response.ok) {\n        return { success: false, error: `æ— æ³•è¿æ¥åˆ° GitLab æœåŠ¡å™¨ (${response.status})` };\n      }\n      \n      return { success: true };\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : String(error);\n      return { success: false, error: `ç½‘ç»œè¿æ¥å¤±è´¥: ${errorMsg}` };\n    }\n  }\n\n  /**\n   * æ£€æŸ¥ GitLab API æƒé™\n   */\n  private async checkGitLabApiPermissions(): Promise<{ success: boolean; error?: string }> {\n    try {\n      const apiUrl = `${this.getGitLabApiBase()}/user`;\n      const response = await fetch(apiUrl, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${this.accessToken}`,\n          'Content-Type': 'application/json'\n        },\n        signal: AbortSignal.timeout(10000)\n      });\n      \n      if (!response.ok) {\n        if (response.status === 401) {\n          return { success: false, error: 'Access Token æ— æ•ˆæˆ–å·²è¿‡æœŸ' };\n        } else if (response.status === 403) {\n          return { success: false, error: 'Access Token æƒé™ä¸è¶³' };\n        } else {\n          return { success: false, error: `API è°ƒç”¨å¤±è´¥ (${response.status})` };\n        }\n      }\n      \n      const userInfo = await response.json();\n      console.log(`  å½“å‰ç”¨æˆ·: ${userInfo.name} (${userInfo.username})`);\n      \n      return { success: true };\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : String(error);\n      return { success: false, error: `API æƒé™éªŒè¯å¤±è´¥: ${errorMsg}` };\n    }\n  }\n\n  /**\n   * æ£€æŸ¥ç›®æ ‡åˆ†ç»„æƒé™\n   */\n  private async checkTargetGroupPermissions(): Promise<{ success: boolean; error?: string }> {\n    try {\n      const groupId = await this.getGroupId(this.targetGroupUrl);\n      const apiUrl = `${this.getGitLabApiBase()}/groups/${groupId}`;\n      \n      const response = await fetch(apiUrl, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${this.accessToken}`,\n          'Content-Type': 'application/json'\n        },\n        signal: AbortSignal.timeout(10000)\n      });\n      \n      if (!response.ok) {\n        if (response.status === 404) {\n          return { success: false, error: 'ç›®æ ‡åˆ†ç»„ä¸å­˜åœ¨æˆ–æ— è®¿é—®æƒé™' };\n        } else if (response.status === 403) {\n          return { success: false, error: 'å¯¹ç›®æ ‡åˆ†ç»„æ²¡æœ‰è¶³å¤Ÿçš„æƒé™' };\n        } else {\n          return { success: false, error: `åˆ†ç»„æƒé™æ£€æŸ¥å¤±è´¥ (${response.status})` };\n        }\n      }\n      \n      const groupInfo = await response.json();\n      console.log(`  ç›®æ ‡åˆ†ç»„: ${groupInfo.name} (${groupInfo.full_path})`);\n      \n      // æ£€æŸ¥æ˜¯å¦æœ‰åˆ›å»ºé¡¹ç›®çš„æƒé™\n      if (groupInfo.permissions && groupInfo.permissions.group_access) {\n        const accessLevel = groupInfo.permissions.group_access.access_level;\n        if (accessLevel < 30) { // 30 = Developer, 40 = Maintainer, 50 = Owner\n          return { success: false, error: 'åœ¨ç›®æ ‡åˆ†ç»„ä¸­æ²¡æœ‰åˆ›å»ºé¡¹ç›®çš„æƒé™ï¼ˆéœ€è¦ Developer åŠä»¥ä¸Šæƒé™ï¼‰' };\n        }\n      }\n      \n      return { success: true };\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : String(error);\n      return { success: false, error: `åˆ†ç»„æƒé™éªŒè¯å¤±è´¥: ${errorMsg}` };\n    }\n  }\n\n  /**\n   * æ£€æŸ¥æœ¬åœ° Git ç¯å¢ƒ\n   */\n  private async checkLocalGitEnvironment(): Promise<{ success: boolean; error?: string }> {\n    try {\n      // æ£€æŸ¥ Git æ˜¯å¦å®‰è£…\n      try {\n        this.executeCommand('git --version');\n      } catch (error) {\n        return { success: false, error: 'Git æœªå®‰è£…æˆ–ä¸åœ¨ PATH ç¯å¢ƒå˜é‡ä¸­' };\n      }\n      \n      // æ£€æŸ¥ Git é…ç½®\n      try {\n        const userName = this.executeCommand('git config --global user.name').trim();\n        const userEmail = this.executeCommand('git config --global user.email').trim();\n        \n        if (!userName || !userEmail) {\n          return { \n            success: false, \n            error: 'Git ç”¨æˆ·ä¿¡æ¯æœªé…ç½®ï¼Œè¯·è¿è¡Œ: git config --global user.name \"Your Name\" å’Œ git config --global user.email \"your.email@example.com\"' \n          };\n        }\n        \n        console.log(`  Git ç”¨æˆ·: ${userName} <${userEmail}>`);\n      } catch (error) {\n        return { success: false, error: 'Git é…ç½®æ£€æŸ¥å¤±è´¥' };\n      }\n      \n      // æ£€æŸ¥ä¸´æ—¶ç›®å½•æƒé™\n      try {\n        if (!existsSync(this.tempDir)) {\n          mkdirSync(this.tempDir, { recursive: true });\n        }\n        \n        // æµ‹è¯•å†™å…¥æƒé™\n        const testFile = path.join(this.tempDir, 'test-write-permission.tmp');\n        writeFileSync(testFile, 'test');\n        rmSync(testFile);\n      } catch (error) {\n        return { success: false, error: `ä¸´æ—¶ç›®å½•æƒé™ä¸è¶³: ${this.tempDir}` };\n      }\n      \n      return { success: true };\n    } catch (error) {\n      const errorMsg = error instanceof Error ? error.message : String(error);\n      return { success: false, error: `Git ç¯å¢ƒæ£€æŸ¥å¤±è´¥: ${errorMsg}` };\n    }\n  }\n\n  /**\n   * æ™ºèƒ½é‡è¯•æœºåˆ¶ï¼šæ ¹æ®é”™è¯¯ç±»å‹å†³å®šæ˜¯å¦é‡è¯•\n   */\n  private shouldRetry(errorType: TErrorType, retryCount: number): boolean {\n    const maxRetries = this.getMaxRetries(errorType);\n    return retryCount < maxRetries;\n  }\n\n  /**\n   * è·å–ä¸åŒé”™è¯¯ç±»å‹çš„æœ€å¤§é‡è¯•æ¬¡æ•°\n   */\n  private getMaxRetries(errorType: TErrorType): number {\n    const maxRetries = {\n      'network': 3,\n      'api_operation': 2,\n      'git_operation': 1,\n      'permission': 0,\n      'validation': 0,\n      'filesystem': 0,  // æ–‡ä»¶ç³»ç»Ÿé”™è¯¯é€šå¸¸ä¸éœ€è¦é‡è¯•ï¼Œç›´æ¥é™çº§ä¸ºè­¦å‘Š\n      'unknown': 1\n    };\n    \n    return maxRetries[errorType];\n  }\n\n  /**\n   * è·å–é‡è¯•å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰\n   */\n  private getRetryDelay(retryCount: number): number {\n    // æŒ‡æ•°é€€é¿ï¼š1ç§’ã€2ç§’ã€4ç§’\n    return Math.min(1000 * Math.pow(2, retryCount), 8000);\n  }\n\n  /**\n   * æ¢å¤è¿ç§»çŠ¶æ€ï¼šåˆ†ææ—¥å¿—å¹¶ç¡®å®šä¸‹ä¸€æ­¥æ“ä½œ\n   */\n  private analyzeMigrationState(log: TMigrationLog): {\n    nextStep: string;\n    canResume: boolean;\n    needsCleanup: boolean;\n    recommendations: string[];\n  } {\n    const recommendations: string[] = [];\n    let nextStep = 'å¼€å§‹è¿ç§»';\n    let canResume = true;\n    let needsCleanup = false;\n    \n    // åˆ†æå®ŒæˆçŠ¶æ€\n    if (log.isFinalCloned && !log.failureReason) {\n      return {\n        nextStep: 'å·²å®Œæˆ',\n        canResume: false,\n        needsCleanup: false,\n        recommendations: ['è¿ç§»å·²å®Œæˆï¼Œæ— éœ€æ“ä½œ']\n      };\n    }\n    \n    // åˆ†æå¤±è´¥çŠ¶æ€å’Œé‡è¯•å»ºè®®\n    if (log.failureReason) {\n      const errorType = log.errorType || 'unknown';\n      \n      if (this.shouldRetry(errorType, log.retryCount || 0)) {\n        recommendations.push(`å¯ä»¥é‡è¯•ï¼Œå½“å‰é‡è¯•æ¬¡æ•°: ${log.retryCount || 0}`);\n        \n        switch (errorType) {\n          case 'network':\n            recommendations.push('ç½‘ç»œé”™è¯¯ï¼Œå»ºè®®æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•');\n            break;\n          case 'api_operation':\n            recommendations.push('API é”™è¯¯ï¼Œå»ºè®®æ£€æŸ¥ Access Token æƒé™');\n            break;\n          case 'git_operation':\n            recommendations.push('Git æ“ä½œé”™è¯¯ï¼Œå»ºè®®æ£€æŸ¥ä»“åº“åœ°å€å’Œæƒé™');\n            needsCleanup = true;\n            break;\n        }\n      } else {\n        recommendations.push('å·²è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œå»ºè®®æ‰‹åŠ¨æ£€æŸ¥é—®é¢˜');\n        canResume = false;\n      }\n    }\n    \n    // ç¡®å®šä¸‹ä¸€æ­¥æ“ä½œ\n    if (!log.isOriginalCloned) {\n      nextStep = 'å…‹éš†åŸä»“åº“é•œåƒ';\n    } else if (!log.isTargetCreated) {\n      nextStep = 'åˆ›å»ºç›®æ ‡ä»“åº“';\n    } else if (!log.isMirrorPushed) {\n      nextStep = 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“';\n    } else if (!log.isDescriptionUpdated) {\n      nextStep = 'æ›´æ–°ä»“åº“æè¿°';\n    } else if (!log.isFinalCloned) {\n      nextStep = 'å…‹éš†è¿ç§»åçš„ä»“åº“';\n    }\n    \n    return { nextStep, canResume, needsCleanup, recommendations };\n  }\n\n  /**\n   * æ˜¾ç¤ºæ–­ç‚¹ç»­ä¼ çŠ¶æ€æŠ¥å‘Š\n   */\n  private showResumeReport(): void {\n    const resumableProjects = Array.from(this.logs.values()).filter(log => \n      !log.isFinalCloned || log.failureReason\n    );\n    \n    if (resumableProjects.length === 0) {\n      console.log(ConsoleColors.success('âœ… æ²¡æœ‰éœ€è¦æ–­ç‚¹ç»­ä¼ çš„é¡¹ç›®ï¼Œæ‰€æœ‰é¡¹ç›®çŠ¶æ€æ­£å¸¸'));\n      return;\n    }\n    \n    console.log('\\n' + ConsoleColors.info('ğŸ“‹ æ–­ç‚¹ç»­ä¼ çŠ¶æ€æŠ¥å‘Š:'));\n    console.log(ConsoleColors.separator(80));\n    \n    for (const log of resumableProjects) {\n      const analysis = this.analyzeMigrationState(log);\n      \n      console.log(`\\nğŸ“¦ é¡¹ç›®: ${ConsoleColors.highlight(log.projectName)}`);\n      console.log(`   çŠ¶æ€: ${analysis.canResume ? ConsoleColors.warning('å¯ç»§ç»­') : ConsoleColors.error('éœ€è¦æ‰‹åŠ¨å¤„ç†')}`);\n      console.log(`   ä¸‹ä¸€æ­¥: ${ConsoleColors.info(analysis.nextStep)}`);\n      \n      if (log.retryCount && log.retryCount > 0) {\n        console.log(`   é‡è¯•æ¬¡æ•°: ${ConsoleColors.dim(log.retryCount.toString())}`);\n      }\n      \n      if (log.failureReason) {\n        console.log(`   å¤±è´¥åŸå› : ${ConsoleColors.error(log.failureReason)}`);\n      }\n      \n      if (analysis.recommendations.length > 0) {\n        console.log(`   å»ºè®®:`);\n        analysis.recommendations.forEach(rec => {\n          console.log(`     - ${ConsoleColors.dim(rec)}`);\n        });\n      }\n    }\n    \n    console.log(ConsoleColors.separator(80));\n  }\n\n  /**\n   * è¿ç§»å•ä¸ªä»“åº“\n   */\n  private async migrateSingleRepository(repo: TRepository): Promise<void> {\n    console.log('\\n' + ConsoleColors.separator(60));\n    console.log(ConsoleColors.progress(`å¼€å§‹è¿ç§»ä»“åº“: ${ConsoleColors.highlight(repo.name)}`));\n    console.log(ConsoleColors.description(`é¡¹ç›®æè¿°: ${repo.description}`));\n    console.log(ConsoleColors.url(`åŸä»“åº“åœ°å€: ${repo.originalUrl}`));\n    console.log(ConsoleColors.separator(60));\n    \n    // æ£€æŸ¥æ˜¯å¦å·²æœ‰æ—¥å¿—è®°å½•\n    let log = this.logs.get(repo.name);\n    \n    if (log) {\n      console.log(ConsoleColors.info('å‘ç°ç°æœ‰æ—¥å¿—è®°å½•ï¼Œæ£€æŸ¥è¿ç§»çŠ¶æ€...'));\n      \n      // å¦‚æœå·²ç»å®Œå…¨è¿ç§»æˆåŠŸï¼Œè·³è¿‡\n      if (log.isFinalCloned && !log.failureReason) {\n        console.log(ConsoleColors.success(`ä»“åº“ ${ConsoleColors.highlight(repo.name)} å·²å®Œæˆè¿ç§»ï¼Œè·³è¿‡`));\n        return;\n      }\n      \n      console.log(ConsoleColors.info('ç»§ç»­æœªå®Œæˆçš„è¿ç§»æ­¥éª¤...'));\n    } else {\n      // åˆ›å»ºæ–°çš„æ—¥å¿—è®°å½•\n      const startTime = new Date();\n      log = {\n        projectName: repo.name,\n        projectDescription: repo.description,\n        originalRepoUrl: repo.originalUrl,\n        targetGroup: this.targetGroupUrl,\n        targetRepoUrl: '',\n        startTime: startTime.toISOString(),\n        endTime: '',\n        duration: '',\n        isOriginalCloned: false,\n        isTargetCreated: false,\n        isMirrorPushed: false,\n        isDescriptionUpdated: false,\n        isFinalCloned: false,\n        failureReason: '',\n        steps: [],\n        warnings: [],\n        retryCount: 0,\n        lastUpdated: new Date().toISOString()\n      };\n    }\n    \n    const migrationStartTime = log.startTime ? new Date(log.startTime) : new Date();\n    if (!log.startTime) {\n      log.startTime = migrationStartTime.toISOString();\n    }\n\n    try {\n      // æ¸…ç†å¤±è´¥çŠ¶æ€ï¼Œå‡†å¤‡é‡æ–°å¼€å§‹\n      if (log.failureReason && !log.isFinalCloned) {\n        log.failureReason = '';\n      }\n\n      // 1. æ£€æŸ¥ç›®æ ‡åˆ†ç»„ä¸­æ˜¯å¦å·²å­˜åœ¨åŒåä»“åº“\n      let repositoryInfo: { exists: boolean; isEmpty?: boolean; targetUrl?: string } | null = null;\n      if (!log.isTargetCreated) {\n        // æ£€æŸ¥æ˜¯å¦å·²æœ‰å®Œæˆçš„æ£€æŸ¥æ­¥éª¤\n        const existingCheckStep = log.steps.find(step => step.name === 'æ£€æŸ¥ç›®æ ‡ä»“åº“');\n        if (existingCheckStep && existingCheckStep.status === 'completed') {\n          console.log(ConsoleColors.success('ç›®æ ‡ä»“åº“æ£€æŸ¥å·²å®Œæˆï¼Œè·³è¿‡'));\n        } else {\n          this.recordMigrationStep(repo.name, 'æ£€æŸ¥ç›®æ ‡ä»“åº“', 'in_progress');\n          try {\n            repositoryInfo = await this.checkRepositoryExists(repo.name);\n            if (repositoryInfo.exists && !repositoryInfo.isEmpty) {\n              log.failureReason = 'ç›®æ ‡åˆ†ç»„ä¸­å·²å­˜åœ¨åŒåä»“åº“';\n              this.recordMigrationStep(repo.name, 'æ£€æŸ¥ç›®æ ‡ä»“åº“', 'failed', log.failureReason, 'validation');\n              console.log(ConsoleColors.error(`è¿ç§»å¤±è´¥: ${log.failureReason}`));\n              this.updateMigrationLog(log);\n              return;\n            }\n            this.recordMigrationStep(repo.name, 'æ£€æŸ¥ç›®æ ‡ä»“åº“', 'completed');\n          } catch (error: any) {\n            const errorMsg = error.message;\n            const errorType = this.classifyError(errorMsg);\n            this.recordMigrationStep(repo.name, 'æ£€æŸ¥ç›®æ ‡ä»“åº“', 'failed', errorMsg, errorType);\n            throw error;\n          }\n        }\n      } else {\n        // åªæœ‰åœ¨æ²¡æœ‰å·²å®Œæˆçš„æ£€æŸ¥æ­¥éª¤æ—¶æ‰è®°å½•ä¸ºè·³è¿‡\n        const existingCheckStep = log.steps.find(step => step.name === 'æ£€æŸ¥ç›®æ ‡ä»“åº“');\n        if (!existingCheckStep || existingCheckStep.status !== 'completed') {\n          this.recordMigrationStep(repo.name, 'æ£€æŸ¥ç›®æ ‡ä»“åº“', 'skipped');\n        } else {\n          console.log(ConsoleColors.success('ç›®æ ‡ä»“åº“æ£€æŸ¥å·²å®Œæˆï¼Œè·³è¿‡'));\n        }\n      }\n\n      // 2. å…‹éš†åŸä»“åº“é•œåƒ\n      // å§‹ç»ˆä½¿ç”¨ä»URLæå–çš„å®é™…ä»“åº“åä½œä¸ºç›®å½•å\n      const actualRepoName = this.extractRepoNameFromUrl(repo.originalUrl);\n      let cloneDir = `${actualRepoName}.git`;\n      if (!log.isOriginalCloned) {\n        console.log(ConsoleColors.step(1, 'å…‹éš†åŸä»“åº“é•œåƒ'));\n        this.recordMigrationStep(repo.name, 'å…‹éš†åŸä»“åº“é•œåƒ', 'in_progress');\n        try {\n          cloneDir = this.cloneOriginalRepository(repo);\n          log.isOriginalCloned = true;\n          this.recordMigrationStep(repo.name, 'å…‹éš†åŸä»“åº“é•œåƒ', 'completed');\n          this.updateMigrationLog(log);\n        } catch (error: any) {\n          const errorMsg = error.message;\n          const errorType = this.classifyError(errorMsg);\n          this.recordMigrationStep(repo.name, 'å…‹éš†åŸä»“åº“é•œåƒ', 'failed', errorMsg, errorType);\n          throw error;\n        }\n      } else {\n        console.log(ConsoleColors.success(`åŸä»“åº“é•œåƒå·²å…‹éš†ï¼Œè·³è¿‡: ${ConsoleColors.dim(cloneDir)}`));\n        // æ£€æŸ¥æ˜¯å¦å·²æœ‰å®ŒæˆçŠ¶æ€çš„æ­¥éª¤è®°å½•ï¼Œå¦‚æœæœ‰åˆ™ä¸è¦†ç›–\n        const existingStep = log.steps.find(step => step.name === 'å…‹éš†åŸä»“åº“é•œåƒ');\n        if (!existingStep || existingStep.status !== 'completed') {\n          this.recordMigrationStep(repo.name, 'å…‹éš†åŸä»“åº“é•œåƒ', 'skipped');\n        }\n      }\n\n      // 3. åˆ›å»ºç›®æ ‡ä»“åº“æˆ–ä½¿ç”¨ç°æœ‰ç©ºä»“åº“\n      if (!log.isTargetCreated) {\n        if (repositoryInfo && repositoryInfo.exists && repositoryInfo.isEmpty && repositoryInfo.targetUrl) {\n          // ä½¿ç”¨ç°æœ‰çš„ç©ºä»“åº“\n          console.log(ConsoleColors.step(2, 'ä½¿ç”¨ç°æœ‰ç©ºä»“åº“'));\n          this.recordMigrationStep(repo.name, 'åˆ›å»ºç›®æ ‡ä»“åº“', 'in_progress');\n          log.targetRepoUrl = repositoryInfo.targetUrl;\n          log.isTargetCreated = true;\n          this.recordMigrationStep(repo.name, 'åˆ›å»ºç›®æ ‡ä»“åº“', 'completed');\n          this.updateMigrationLog(log);\n        } else {\n          // åˆ›å»ºæ–°ä»“åº“\n          console.log(ConsoleColors.step(2, 'åˆ›å»ºç›®æ ‡ä»“åº“'));\n          this.recordMigrationStep(repo.name, 'åˆ›å»ºç›®æ ‡ä»“åº“', 'in_progress');\n          try {\n            const targetUrl = await this.createTargetRepository(repo);\n            log.targetRepoUrl = targetUrl;\n            log.isTargetCreated = true;\n            this.recordMigrationStep(repo.name, 'åˆ›å»ºç›®æ ‡ä»“åº“', 'completed');\n            this.updateMigrationLog(log);\n          } catch (error: any) {\n            const errorMsg = error.message;\n            const errorType = this.classifyError(errorMsg);\n            this.recordMigrationStep(repo.name, 'åˆ›å»ºç›®æ ‡ä»“åº“', 'failed', errorMsg, errorType);\n            throw error;\n          }\n        }\n      } else {\n        console.log(ConsoleColors.success(`ç›®æ ‡ä»“åº“å·²åˆ›å»ºï¼Œè·³è¿‡: ${ConsoleColors.dim(log.targetRepoUrl)}`));\n        // æ£€æŸ¥æ˜¯å¦å·²æœ‰å®ŒæˆçŠ¶æ€çš„æ­¥éª¤è®°å½•ï¼Œå¦‚æœæœ‰åˆ™ä¸è¦†ç›–\n        const existingStep = log.steps.find(step => step.name === 'åˆ›å»ºç›®æ ‡ä»“åº“');\n        if (!existingStep || existingStep.status !== 'completed') {\n          this.recordMigrationStep(repo.name, 'åˆ›å»ºç›®æ ‡ä»“åº“', 'skipped');\n        }\n      }\n\n      // 4. è®¾ç½®ç›®æ ‡ä»“åº“çš„é¡¹ç›®æè¿°\n      if (!log.isDescriptionUpdated) {\n        console.log(ConsoleColors.step(3, 'è®¾ç½®ä»“åº“æè¿°'));\n        this.recordMigrationStep(repo.name, 'è®¾ç½®ä»“åº“æè¿°', 'in_progress');\n        try {\n          await this.updateRepositoryDescription(repo.name, repo.description);\n          log.isDescriptionUpdated = true;\n          this.recordMigrationStep(repo.name, 'è®¾ç½®ä»“åº“æè¿°', 'completed');\n          this.updateMigrationLog(log);\n        } catch (error: any) {\n          const errorMsg = error.message;\n          const errorType = this.classifyError(errorMsg);\n          this.recordMigrationStep(repo.name, 'è®¾ç½®ä»“åº“æè¿°', 'failed', errorMsg, errorType);\n          throw error;\n        }\n      } else {\n        console.log(ConsoleColors.success('ä»“åº“æè¿°å·²æ›´æ–°ï¼Œè·³è¿‡'));\n        // æ£€æŸ¥æ˜¯å¦å·²æœ‰å®ŒæˆçŠ¶æ€çš„æ­¥éª¤è®°å½•ï¼Œå¦‚æœæœ‰åˆ™ä¸è¦†ç›–\n        const existingStep = log.steps.find(step => step.name === 'è®¾ç½®ä»“åº“æè¿°');\n        if (!existingStep || existingStep.status !== 'completed') {\n          this.recordMigrationStep(repo.name, 'è®¾ç½®ä»“åº“æè¿°', 'skipped');\n        }\n      }\n\n      // 5. æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“\n      if (!log.isMirrorPushed) {\n        console.log(ConsoleColors.step(4, 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“'));\n        this.recordMigrationStep(repo.name, 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“', 'in_progress');\n        try {\n          const pushResult = this.pushMirrorToTarget(cloneDir, log.targetRepoUrl);\n          log.isMirrorPushed = true;\n          \n          if (pushResult.hasWarnings) {\n            this.recordMigrationStep(repo.name, 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“', 'warning', undefined, undefined, pushResult.warnings);\n            pushResult.warnings?.forEach(warning => this.addWarning(repo.name, warning));\n          } else {\n            this.recordMigrationStep(repo.name, 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“', 'completed');\n          }\n          \n          this.updateMigrationLog(log);\n        } catch (error: any) {\n          const errorMsg = error.message;\n          const errorType = this.classifyError(errorMsg);\n          \n          // æ£€æŸ¥æ˜¯å¦ä¸ºéšè—å¼•ç”¨ç›¸å…³çš„é”™è¯¯ï¼Œå¦‚æœæ˜¯åˆ™é™çº§ä¸ºè­¦å‘Šè€Œä¸æ˜¯å¤±è´¥\n          if (errorMsg.includes('deny updating a hidden ref') || \n              errorMsg.includes('refs/keep-around') ||\n              errorMsg.includes('refs/merge-requests') ||\n              errorMsg.includes('refs/pipelines') ||\n              errorMsg.includes('refs/environments') ||\n              errorMsg.includes('refs/heads/') ||\n              errorMsg.includes('refs/tags/') ||\n              errorMsg.includes('hidden ref') ||\n              errorMsg.includes('refusing to update checked out branch') ||\n              errorMsg.includes('remote rejected') ||\n              errorMsg.includes('pre-receive hook declined') ||\n              errorMsg.includes('! [remote rejected]') ||\n              errorMsg.includes('hook declined') ||\n              errorMsg.includes('protected branch') ||\n              errorMsg.includes('To ') ||\n              errorMsg.includes('Everything up-to-date') ||\n              errorMsg.includes('non-fast-forward') ||\n              errorMsg.includes('failed to push some refs') ||\n              errorMsg.includes('updates were rejected') ||\n              errorMsg.includes('fetch first') ||\n              errorMsg.includes('hint: Updates were rejected') ||\n              errorMsg.includes('error: failed to push')){\n            console.log(ConsoleColors.warning(`âš ï¸  æ¨é€è¿‡ç¨‹ä¸­é‡åˆ°éšè—å¼•ç”¨ç›¸å…³è­¦å‘Šï¼Œä½†ä¸å½±å“è¿ç§»ç»“æœ`));\n            log.isMirrorPushed = true; // æ ‡è®°ä¸ºå·²æ¨é€\n            this.recordMigrationStep(repo.name, 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“', 'warning', undefined, undefined, [`æ¨é€è¿‡ç¨‹ä¸­é‡åˆ°éšè—å¼•ç”¨ç›¸å…³è­¦å‘Š: ${errorMsg}`]);\n            this.addWarning(repo.name, `æ¨é€è¿‡ç¨‹ä¸­é‡åˆ°éšè—å¼•ç”¨ç›¸å…³è­¦å‘Š: ${errorMsg}`);\n            this.updateMigrationLog(log);\n          } else {\n            this.recordMigrationStep(repo.name, 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“', 'failed', errorMsg, errorType);\n            throw error;\n          }\n        }\n      } else {\n        console.log(ConsoleColors.success('é•œåƒå·²æ¨é€ï¼Œè·³è¿‡'));\n        // æ£€æŸ¥æ˜¯å¦å·²æœ‰å®ŒæˆçŠ¶æ€çš„æ­¥éª¤è®°å½•ï¼Œå¦‚æœæœ‰åˆ™ä¸è¦†ç›–\n        const existingStep = log.steps.find(step => step.name === 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“');\n        if (!existingStep || (existingStep.status !== 'completed' && existingStep.status !== 'warning')) {\n          this.recordMigrationStep(repo.name, 'æ¨é€é•œåƒåˆ°ç›®æ ‡ä»“åº“', 'skipped');\n        }\n      }\n\n      // 6. å…‹éš†è¿ç§»åçš„ä»“åº“åˆ°æœ¬åœ°\n      if (this.skipFinalClone) {\n        console.log(ConsoleColors.warning('å·²ç¦ç”¨å…‹éš†è¿ç§»åçš„ä»“åº“ï¼Œè·³è¿‡'));\n        this.recordMigrationStep(repo.name, 'å…‹éš†è¿ç§»åçš„ä»“åº“', 'skipped');\n        log.isFinalCloned = true; // æ ‡è®°ä¸ºå·²å®Œæˆä»¥é¿å…é‡è¯•\n      } else if (!log.isFinalCloned) {\n        console.log(ConsoleColors.step(5, 'å…‹éš†è¿ç§»åçš„ä»“åº“åˆ°æœ¬åœ°'));\n        this.recordMigrationStep(repo.name, 'å…‹éš†è¿ç§»åçš„ä»“åº“', 'in_progress');\n        try {\n          this.cloneFinalRepository(log.targetRepoUrl, repo.name);\n          log.isFinalCloned = true;\n          this.recordMigrationStep(repo.name, 'å…‹éš†è¿ç§»åçš„ä»“åº“', 'completed');\n        } catch (error: any) {\n          const errorMsg = error.message;\n          const errorType = this.classifyError(errorMsg);\n          \n          // æ£€æŸ¥æ˜¯å¦ä¸ºéšè—å¼•ç”¨ç›¸å…³é”™è¯¯ï¼Œå¦‚æœæ˜¯åˆ™é™çº§ä¸ºè­¦å‘Š\n          if (errorMsg.includes('deny updating a hidden ref') || \n              errorMsg.includes('refs/keep-around') ||\n              errorMsg.includes('hidden ref')) {\n            console.log(ConsoleColors.warning(`å…‹éš†è¿‡ç¨‹ä¸­é‡åˆ°éšè—å¼•ç”¨è­¦å‘Š: ${errorMsg}`));\n            this.addWarning(repo.name, `å…‹éš†æ—¶é‡åˆ°éšè—å¼•ç”¨è­¦å‘Š: ${errorMsg}`);\n            this.recordMigrationStep(repo.name, 'å…‹éš†è¿ç§»åçš„ä»“åº“', 'warning', undefined, undefined, [errorMsg]);\n            log.isFinalCloned = true; // æ ‡è®°ä¸ºå·²å®Œæˆï¼Œå› ä¸ºè¿™åªæ˜¯è­¦å‘Š\n          } else {\n            this.recordMigrationStep(repo.name, 'å…‹éš†è¿ç§»åçš„ä»“åº“', 'failed', errorMsg, errorType);\n            throw error;\n          }\n        }\n      } else {\n        console.log(ConsoleColors.success('è¿ç§»åä»“åº“å·²å…‹éš†ï¼Œè·³è¿‡'));\n        // æ£€æŸ¥æ˜¯å¦å·²æœ‰å®ŒæˆçŠ¶æ€çš„æ­¥éª¤è®°å½•ï¼Œå¦‚æœæœ‰åˆ™ä¸è¦†ç›–\n        const existingStep = log.steps.find(step => step.name === 'å…‹éš†è¿ç§»åçš„ä»“åº“');\n        if (!existingStep || existingStep.status !== 'completed') {\n          this.recordMigrationStep(repo.name, 'å…‹éš†è¿ç§»åçš„ä»“åº“', 'skipped');\n        }\n      }\n\n      // 7. æ¸…ç†é•œåƒç›®å½•\n      if (existsSync(cloneDir)) {\n        rmSync(cloneDir, { recursive: true, force: true });\n        console.log(ConsoleColors.dim(`ğŸ—‘ï¸  å·²æ¸…ç†é•œåƒç›®å½•: ${path.basename(cloneDir)}`));\n      }\n\n      const endTime = new Date();\n      log.endTime = endTime.toISOString();\n      log.duration = `${Math.round((endTime.getTime() - migrationStartTime.getTime()) / 1000)}ç§’`;\n      \n      this.updateMigrationLog(log);\n      console.log('\\n' + ConsoleColors.success(`ä»“åº“è¿ç§»å®Œæˆ: ${ConsoleColors.highlight(repo.name)} ${ConsoleColors.duration(`(è€—æ—¶: ${log.duration})`)}`) + '\\n');\n      \n      if (log.warnings && log.warnings.length > 0) {\n        console.log(ConsoleColors.warning(`âš ï¸ è­¦å‘Šä¿¡æ¯: ${log.warnings.length} æ¡`));\n      }\n      \n    } catch (error: any) {\n      const endTime = new Date();\n      const errorMsg = error.message;\n      const errorType = this.classifyError(errorMsg);\n      \n      log.errorType = errorType;\n      log.retryCount = (log.retryCount || 0) + 1;\n      const readableError = this.getReadableErrorMessage(errorMsg, errorType);\n      \n      // æ£€æŸ¥æ˜¯å¦å¯ä»¥é‡è¯•\n      if (this.shouldRetry(errorType, log.retryCount)) {\n        const retryDelay = this.getRetryDelay(log.retryCount - 1);\n        const maxRetries = this.getMaxRetries(errorType);\n        \n        console.log('\\n' + ConsoleColors.warning(`âš ï¸ è¿ç§»é‡åˆ°é”™è¯¯ï¼Œå‡†å¤‡é‡è¯•...`));\n        console.log(ConsoleColors.error(`é”™è¯¯: ${readableError}`));\n        console.log(ConsoleColors.dim(`é”™è¯¯ç±»å‹: ${errorType}`));\n        console.log(ConsoleColors.info(`é‡è¯•è¿›åº¦: ${log.retryCount}/${maxRetries}`));\n        console.log(ConsoleColors.info(`ç­‰å¾… ${retryDelay / 1000} ç§’åé‡è¯•...`));\n        \n        this.recordMigrationStep(repo.name, `å‡†å¤‡é‡è¯• (${log.retryCount}/${maxRetries})`, 'in_progress', `ç­‰å¾… ${retryDelay / 1000} ç§’`);\n        this.updateMigrationLog(log);\n        \n        // æ¸…ç†å¯èƒ½çš„é•œåƒç›®å½•ï¼ˆåœ¨ä¸´æ—¶ç›®å½•ä¸­æŸ¥æ‰¾ï¼‰\n        try {\n          if (existsSync(this.tempDir)) {\n            const files = readdirSync(this.tempDir);\n            const actualRepoName = this.extractRepoNameFromUrl(repo.originalUrl);\n            const mirrorDirs = files.filter(file => \n              file.startsWith(actualRepoName) && file.endsWith('.git')\n            );\n            \n            mirrorDirs.forEach(dir => {\n              const dirPath = path.join(this.tempDir, dir);\n              if (existsSync(dirPath)) {\n                rmSync(dirPath, { recursive: true, force: true });\n                console.log(ConsoleColors.dim(`ğŸ—‘ï¸  å·²æ¸…ç†é•œåƒç›®å½•: ${dir}`));\n              }\n            });\n          }\n        } catch (error) {\n          console.log(ConsoleColors.warning('âš ï¸  æ¸…ç†é•œåƒç›®å½•æ—¶å‡ºç°é—®é¢˜'));\n        }\n        \n        // ç­‰å¾…é‡è¯•å»¶è¿Ÿ\n        await new Promise(resolve => setTimeout(resolve, retryDelay));\n        \n        // æ¸…ç†å¤±è´¥çŠ¶æ€ï¼Œå‡†å¤‡é‡è¯•\n        log.failureReason = '';\n        \n        // é€’å½’é‡è¯•\n        console.log(ConsoleColors.info(`ğŸ”„ å¼€å§‹ç¬¬ ${log.retryCount} æ¬¡é‡è¯•: ${ConsoleColors.highlight(repo.name)}`));\n        return await this.migrateSingleRepository(repo);\n      } else {\n        // è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°ï¼Œè®°å½•æœ€ç»ˆå¤±è´¥\n        log.endTime = endTime.toISOString();\n        log.duration = `${Math.round((endTime.getTime() - migrationStartTime.getTime()) / 1000)}ç§’`;\n        log.failureReason = readableError;\n        \n        this.recordMigrationStep(repo.name, 'è¿ç§»æœ€ç»ˆå¤±è´¥', 'failed', log.failureReason, errorType);\n        this.updateMigrationLog(log);\n        \n        console.log('\\n' + ConsoleColors.error(`âŒ ä»“åº“è¿ç§»æœ€ç»ˆå¤±è´¥: ${ConsoleColors.highlight(repo.name)}`));\n        console.log(ConsoleColors.error(`å¤±è´¥åŸå› : ${log.failureReason}`));\n        console.log(ConsoleColors.error(`é”™è¯¯ç±»å‹: ${errorType}`));\n        console.log(ConsoleColors.error(`æ€»é‡è¯•æ¬¡æ•°: ${log.retryCount}`));\n        \n        // æä¾›æ¢å¤å»ºè®®\n        const analysis = this.analyzeMigrationState(log);\n        if (analysis.recommendations.length > 0) {\n          console.log(ConsoleColors.info('ğŸ’¡ å»ºè®®:'));\n          analysis.recommendations.forEach(rec => {\n            console.log(ConsoleColors.dim(`   - ${rec}`));\n          });\n        }\n        \n        // æ¸…ç†å¯èƒ½çš„ä¸´æ—¶æ–‡ä»¶\n        const actualRepoName = this.extractRepoNameFromUrl(repo.originalUrl);\n        const cloneDir = `${actualRepoName}.git`;\n        if (existsSync(cloneDir)) {\n          rmSync(cloneDir, { recursive: true, force: true });\n        }\n      }\n    }\n  }\n\n  /**\n   * æ‰§è¡Œè¿ç§»ä»»åŠ¡\n   */\n  public async migrate(): Promise<void> {\n    try {\n      console.log('\\n' + ConsoleColors.box('GitLab é¡¹ç›®è¿ç§»å·¥å…·'));\n      console.log('');\n      \n      // è§£æmove.mdæ–‡ä»¶\n      this.parseMoveFile();\n      \n      // éªŒè¯ Access Token\n      if (!this.accessToken || this.accessToken === 'your_access_token' || this.accessToken === 'your_gitlab_access_token') {\n        console.log(ConsoleColors.warning('æœªæ‰¾åˆ°æœ‰æ•ˆçš„ GitLab Access Token'));\n        console.log(ConsoleColors.info('Access Token è·å–ä¼˜å…ˆçº§:'));\n        console.log(ConsoleColors.dim('   1. å‘½ä»¤è¡Œå‚æ•° (æœ€é«˜ä¼˜å…ˆçº§)'));\n        console.log(ConsoleColors.dim('   2. move.md æ–‡ä»¶ä¸­çš„ \"## è¿ç§»ç›®æ ‡ Access Token\" éƒ¨åˆ†'));\n        console.log(ConsoleColors.dim('   3. ç¯å¢ƒå˜é‡: GITLAB_ACCESS_TOKEN'));\n        console.log(ConsoleColors.dim('   4. äº¤äº’å¼è¾“å…¥ (å½“å‰)'));\n        console.log('');\n        \n        // äº¤äº’å¼è¾“å…¥ Access Token\n        this.accessToken = await promptForAccessToken();\n        \n        if (!this.accessToken || this.accessToken.trim() === '') {\n          console.error(ConsoleColors.error('Access Token ä¸èƒ½ä¸ºç©º'));\n          throw new Error('Access Token ä¸èƒ½ä¸ºç©º');\n        }\n      }\n      \n      // æ˜¾ç¤ºæ–­ç‚¹ç»­ä¼ çŠ¶æ€æŠ¥å‘Š\n      this.showResumeReport();\n      \n      // æ‰§è¡Œé¢„æ£€æŸ¥\n      const preCheckResult = await this.performPreChecks();\n      if (!preCheckResult.success) {\n        console.error('\\n' + ConsoleColors.error('âŒ é¢„æ£€æŸ¥å¤±è´¥ï¼Œæ— æ³•å¼€å§‹è¿ç§»:'));\n        preCheckResult.errors.forEach(error => console.error(ConsoleColors.error(`  - ${error}`)));\n        \n        // é¢„æ£€æŸ¥å¤±è´¥æ—¶è¿›è¡Œæ¸…ç†\n        console.log(ConsoleColors.warning('\\nğŸ§¹ é¢„æ£€æŸ¥å¤±è´¥ï¼Œæ­£åœ¨æ¸…ç†å¯èƒ½çš„ä¸´æ—¶æ–‡ä»¶...'));\n        cleanupOnExit(this);\n        \n        // ç»™æ¸…ç†å‡½æ•°ä¸€äº›æ—¶é—´æ¥å®Œæˆè¾“å‡º\n        await new Promise(resolve => setTimeout(resolve, 100));\n        \n        throw new Error('é¢„æ£€æŸ¥å¤±è´¥ï¼Œè¯·è§£å†³ä¸Šè¿°é—®é¢˜åé‡è¯•');\n      }\n      \n      // è¿‡æ»¤æŒ‡å®šçš„é¡¹ç›®\n      let repositoriesToMigrate = this.repositories;\n      if (this.selectedProjects.length > 0) {\n        repositoriesToMigrate = this.repositories.filter(repo => \n          this.selectedProjects.includes(repo.name)\n        );\n        \n        console.log(ConsoleColors.info(`æŒ‡å®šè¿ç§»é¡¹ç›®: ${ConsoleColors.highlight(this.selectedProjects.join(', '))}`));\n        console.log(ConsoleColors.success(`æ‰¾åˆ°åŒ¹é…é¡¹ç›®: ${ConsoleColors.highlight(repositoriesToMigrate.map(r => r.name).join(', '))}`));\n        \n        const notFound = this.selectedProjects.filter(name => \n          !this.repositories.some(repo => repo.name === name)\n        );\n        if (notFound.length > 0) {\n          console.log(ConsoleColors.warning(`æœªæ‰¾åˆ°çš„é¡¹ç›®: ${notFound.join(', ')}`));\n        }\n      }\n      \n      if (repositoriesToMigrate.length === 0) {\n        console.log(ConsoleColors.warning('æ²¡æœ‰æ‰¾åˆ°éœ€è¦è¿ç§»çš„ä»“åº“'));\n        return;\n      }\n      \n      console.log('\\n' + ConsoleColors.progress(`å¼€å§‹è¿ç§» ${ConsoleColors.highlight(repositoriesToMigrate.length.toString())} ä¸ªä»“åº“`));\n      console.log(ConsoleColors.separator(60));\n      \n      // é€ä¸ªè¿ç§»ä»“åº“\n      for (const repo of repositoriesToMigrate) {\n        await this.migrateSingleRepository(repo);\n      }\n      \n      console.log('\\n' + ConsoleColors.separator(60));\n      console.log(ConsoleColors.success('ğŸ‰ æ‰€æœ‰è¿ç§»ä»»åŠ¡å®Œæˆ'));\n      \n    } catch (error: any) {\n      console.error(ConsoleColors.error(`è¿ç§»è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: ${error.message}`));\n      process.exit(1);\n    }\n  }\n\n  /**\n   * ç”Ÿæˆè¿ç§»æŠ¥å‘Š\n   */\n  public generateMigrationReport(): string {\n    // è·å–å½“å‰è¿ç§»çš„é¡¹ç›®åˆ—è¡¨\n    const repositoriesToMigrate = this.selectedProjects.length > 0 \n      ? this.repositories.filter(repo => this.selectedProjects.includes(repo.name))\n      : this.repositories;\n    \n    // åªç»Ÿè®¡å½“å‰è¿ç§»çš„é¡¹ç›®\n    const migratedProjectNames = repositoriesToMigrate.map(repo => repo.name);\n    const migratedLogs = Array.from(this.logs.values()).filter(log => migratedProjectNames.includes(log.projectName));\n    \n    const totalRepos = migratedLogs.length;\n    const successfulRepos = migratedLogs.filter(log => log.isFinalCloned && !log.failureReason).length;\n    const failedRepos = totalRepos - successfulRepos;\n    const reposWithWarnings = migratedLogs.filter(log => log.warnings && log.warnings.length > 0).length;\n    \n    let report = '\\n' + ConsoleColors.box('GitLab é¡¹ç›®è¿ç§»æŠ¥å‘Š') + '\\n';\n    \n    if (this.selectedProjects.length > 0) {\n      report += ConsoleColors.info(`æŒ‡å®šè¿ç§»é¡¹ç›®: ${ConsoleColors.highlight(this.selectedProjects.join(', '))}`) + '\\n';\n    }\n    \n    report += ConsoleColors.info(`æ€»è®¡: ${ConsoleColors.highlight(totalRepos.toString())} ä¸ªä»“åº“`) + '\\n';\n    report += ConsoleColors.success(`æˆåŠŸ: ${ConsoleColors.highlight(successfulRepos.toString())} ä¸ªä»“åº“`) + '\\n';\n    \n    if (failedRepos > 0) {\n      report += ConsoleColors.error(`å¤±è´¥: ${ConsoleColors.highlight(failedRepos.toString())} ä¸ªä»“åº“`) + '\\n';\n    } else {\n      report += ConsoleColors.success(`å¤±è´¥: ${ConsoleColors.highlight('0')} ä¸ªä»“åº“`) + '\\n';\n    }\n    \n    if (reposWithWarnings > 0) {\n      report += ConsoleColors.warning(`è­¦å‘Š: ${ConsoleColors.highlight(reposWithWarnings.toString())} ä¸ªä»“åº“`) + '\\n';\n    }\n    \n    const successRate = totalRepos > 0 ? Math.round((successfulRepos / totalRepos) * 100) : 0;\n    const successRateColor = successRate === 100 ? ConsoleColors.success : successRate >= 80 ? ConsoleColors.warning : ConsoleColors.error;\n    report += successRateColor(`æˆåŠŸç‡: ${ConsoleColors.highlight(successRate + '%')}`) + '\\n';\n    \n    // æ˜¾ç¤ºæœ‰è­¦å‘Šçš„ä»“åº“\n    if (reposWithWarnings > 0) {\n      report += '\\n' + ConsoleColors.warning('æœ‰è­¦å‘Šçš„ä»“åº“:') + '\\n';\n      migratedLogs\n        .filter(log => log.warnings && log.warnings.length > 0)\n        .forEach(log => {\n          report += ConsoleColors.warning(`  â€¢ ${ConsoleColors.highlight(log.projectName)}:`) + '\\n';\n          log.warnings.forEach(warning => {\n            report += ConsoleColors.dim(`    - ${warning}`) + '\\n';\n          });\n        });\n    }\n    \n    if (failedRepos > 0) {\n      report += '\\n' + ConsoleColors.error('å¤±è´¥çš„ä»“åº“:') + '\\n';\n      migratedLogs\n        .filter(log => log.failureReason)\n        .forEach(log => {\n          report += ConsoleColors.error(`  â€¢ ${ConsoleColors.highlight(log.projectName)}: ${log.failureReason}`) + '\\n';\n        });\n    }\n    \n    return report;\n  }\n}\n\n/**\n * ç¨‹åºé€€å‡ºæ—¶çš„æ¸…ç†å‡½æ•°\n */\nfunction cleanupOnExit(migrator?: GitLabMigrator): void {\n  console.log('\\nğŸ§¹ ç¨‹åºé€€å‡ºï¼Œæ­£åœ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶...');\n  \n  let cleanupResults = {\n    logsSaved: false,\n    tempDirsFound: 0,\n    tempDirsDeleted: 0,\n    errors: [] as string[]\n  };\n  \n  // å¼ºåˆ¶ä¿å­˜è¿ç§»æ—¥å¿—\n  if (migrator) {\n    try {\n      migrator.forceSaveMigrationLogs();\n      cleanupResults.logsSaved = true;\n      console.log('ğŸ’¾ å·²ä¿å­˜è¿ç§»æ—¥å¿—');\n    } catch (error) {\n      const errorMsg = `ä¿å­˜è¿ç§»æ—¥å¿—å¤±è´¥: ${error instanceof Error ? error.message : String(error)}`;\n      cleanupResults.errors.push(errorMsg);\n      console.log(ConsoleColors.warning(`âš ï¸  ${errorMsg}`));\n    }\n  }\n  \n  // æ¸…ç†ä¸´æ—¶ç›®å½•\n  try {\n    const currentDir = process.cwd();\n    console.log(ConsoleColors.dim(`ğŸ“ æ‰«æç›®å½•: ${currentDir}`));\n    \n    let files: string[] = [];\n    try {\n      files = readdirSync(currentDir);\n    } catch (error) {\n      const errorMsg = `è¯»å–ç›®å½•å¤±è´¥: ${error instanceof Error ? error.message : String(error)}`;\n      cleanupResults.errors.push(errorMsg);\n      console.log(ConsoleColors.error(`âŒ ${errorMsg}`));\n      return;\n    }\n    \n    // æŸ¥æ‰¾æ‰€æœ‰ä¸´æ—¶ç›®å½•\n    const tempDirs = files.filter(file => {\n      try {\n        const fullPath = path.join(currentDir, file);\n        const isDir = statSync(fullPath).isDirectory();\n        const isTempDir = file.startsWith('temp-migration-');\n        return isDir && isTempDir;\n      } catch (error) {\n        console.log(ConsoleColors.warning(`âš ï¸  æ£€æŸ¥æ–‡ä»¶ ${file} æ—¶å‡ºé”™: ${error instanceof Error ? error.message : String(error)}`));\n        return false;\n      }\n    });\n    \n    cleanupResults.tempDirsFound = tempDirs.length;\n    \n    if (tempDirs.length > 0) {\n      console.log(`ğŸ—‘ï¸  å‘ç° ${tempDirs.length} ä¸ªä¸´æ—¶ç›®å½•ï¼Œå¼€å§‹æ¸…ç†...`);\n      \n      tempDirs.forEach(dir => {\n        try {\n          const fullPath = path.join(currentDir, dir);\n          console.log(ConsoleColors.dim(`   ğŸ”„ æ­£åœ¨åˆ é™¤: ${dir}`));\n          \n          // å°è¯•åˆ é™¤ç›®å½•\n          rmSync(fullPath, { recursive: true, force: true });\n          \n          // éªŒè¯åˆ é™¤æ˜¯å¦æˆåŠŸ\n          if (!existsSync(fullPath)) {\n            cleanupResults.tempDirsDeleted++;\n            console.log(ConsoleColors.success(`   âœ… å·²åˆ é™¤: ${dir}`));\n          } else {\n            const errorMsg = `ç›®å½•ä»ç„¶å­˜åœ¨: ${dir}`;\n            cleanupResults.errors.push(errorMsg);\n            console.log(ConsoleColors.warning(`   âš ï¸  ${errorMsg}`));\n          }\n        } catch (error) {\n          const errorMsg = `åˆ é™¤ç›®å½• ${dir} å¤±è´¥: ${error instanceof Error ? error.message : String(error)}`;\n          cleanupResults.errors.push(errorMsg);\n          console.log(ConsoleColors.error(`   âŒ ${errorMsg}`));\n        }\n      });\n    } else {\n      console.log(ConsoleColors.dim('ğŸ“‚ æœªå‘ç°ä¸´æ—¶ç›®å½•'));\n    }\n    \n    // è¾“å‡ºæ¸…ç†ç»“æœæ‘˜è¦\n    console.log('\\nğŸ“Š æ¸…ç†ç»“æœæ‘˜è¦:');\n    console.log(ConsoleColors.dim(`   - è¿ç§»æ—¥å¿—ä¿å­˜: ${cleanupResults.logsSaved ? 'âœ… æˆåŠŸ' : 'âŒ å¤±è´¥'}`));\n    console.log(ConsoleColors.dim(`   - å‘ç°ä¸´æ—¶ç›®å½•: ${cleanupResults.tempDirsFound} ä¸ª`));\n    console.log(ConsoleColors.dim(`   - æˆåŠŸåˆ é™¤: ${cleanupResults.tempDirsDeleted} ä¸ª`));\n    console.log(ConsoleColors.dim(`   - é”™è¯¯æ•°é‡: ${cleanupResults.errors.length} ä¸ª`));\n    \n    if (cleanupResults.errors.length > 0) {\n      console.log(ConsoleColors.warning('\\nâš ï¸  æ¸…ç†è¿‡ç¨‹ä¸­é‡åˆ°ä»¥ä¸‹é—®é¢˜:'));\n      cleanupResults.errors.forEach((error, index) => {\n        console.log(ConsoleColors.warning(`   ${index + 1}. ${error}`));\n      });\n    }\n    \n    if (cleanupResults.tempDirsDeleted === cleanupResults.tempDirsFound && cleanupResults.errors.length === 0) {\n      console.log(ConsoleColors.success('âœ… æ¸…ç†å®Œæˆï¼Œæ‰€æœ‰ä¸´æ—¶æ–‡ä»¶å·²åˆ é™¤'));\n    } else {\n      console.log(ConsoleColors.warning('âš ï¸  æ¸…ç†å®Œæˆï¼Œä½†å­˜åœ¨éƒ¨åˆ†é—®é¢˜'));\n    }\n    \n  } catch (error) {\n    const errorMsg = `æ¸…ç†è¿‡ç¨‹ä¸­å‘ç”Ÿæœªé¢„æœŸçš„é”™è¯¯: ${error instanceof Error ? error.message : String(error)}`;\n    console.log(ConsoleColors.error(`ğŸ’¥ ${errorMsg}`));\n    cleanupResults.errors.push(errorMsg);\n  }\n}\n\n/**\n * æ³¨å†Œç¨‹åºé€€å‡ºæ—¶çš„æ¸…ç†å¤„ç†å™¨\n */\nfunction registerExitHandlers(migrator?: GitLabMigrator): void {\n  // å¤„ç†æ­£å¸¸é€€å‡º\n  process.on('exit', () => {\n    // æ³¨æ„ï¼šåœ¨ exit äº‹ä»¶ä¸­ä¸èƒ½æ‰§è¡Œå¼‚æ­¥æ“ä½œ\n  });\n  \n  // å¤„ç† Ctrl+C (SIGINT)\n  process.on('SIGINT', () => {\n    console.log('\\nğŸ›‘ æ”¶åˆ°ä¸­æ–­ä¿¡å· (Ctrl+C)');\n    cleanupOnExit(migrator);\n    process.exit(0);\n  });\n  \n  // å¤„ç†ç»ˆæ­¢ä¿¡å· (SIGTERM)\n  process.on('SIGTERM', () => {\n    console.log('\\nğŸ›‘ æ”¶åˆ°ç»ˆæ­¢ä¿¡å·');\n    cleanupOnExit(migrator);\n    process.exit(0);\n  });\n  \n  // å¤„ç†æœªæ•è·çš„å¼‚å¸¸\n  process.on('uncaughtException', (error) => {\n    console.error('\\nğŸ’¥ æœªæ•è·çš„å¼‚å¸¸:', error.message);\n    cleanupOnExit(migrator);\n    process.exit(1);\n  });\n  \n  // å¤„ç†æœªå¤„ç†çš„ Promise æ‹’ç»\n  process.on('unhandledRejection', (reason, promise) => {\n    console.error('\\nğŸ’¥ æœªå¤„ç†çš„ Promise æ‹’ç»:', reason);\n    cleanupOnExit(migrator);\n    process.exit(1);\n  });\n}\n\n/**\n * åˆå§‹åŒ– move.md é…ç½®æ–‡ä»¶\n */\nfunction initMoveFile(targetDir: string = process.cwd()): void {\n  const moveFilePath = path.join(targetDir, 'move.md');\n  \n  // æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²å­˜åœ¨\n  if (existsSync(moveFilePath)) {\n    console.log(ConsoleColors.warning(`âš ï¸  é…ç½®æ–‡ä»¶å·²å­˜åœ¨: ${moveFilePath}`));\n    console.log(ConsoleColors.info('å¦‚éœ€é‡æ–°åˆå§‹åŒ–ï¼Œè¯·å…ˆåˆ é™¤ç°æœ‰æ–‡ä»¶'));\n    return;\n  }\n  \n  // åˆ›å»ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰\n  const dir = path.dirname(moveFilePath);\n  if (!existsSync(dir)) {\n    mkdirSync(dir, { recursive: true });\n  }\n  \n  // ç”Ÿæˆé»˜è®¤é…ç½®å†…å®¹\n  const defaultConfig = `# Gitlab é¡¹ç›®è¿ç§»åˆ°æ–°çš„åˆ†ç»„\n\n## è¿ç§»ç›®æ ‡ Access Token\n\nyour_gitlab_access_token\n\n## è¿ç§»ç›®æ ‡åˆ†ç»„\n\nhttps://gitlab.example.com/target-group/\n\n## éœ€è¦è¿ç§»ä»“åº“\n\n| é¡¹ç›®åç§° | é¡¹ç›®æè¿° | åŸä»“åº“åœ°å€ |\n|---------|---------|----------|\n| project1 | é¡¹ç›®1æè¿° | ssh://git@gitlab.example.com:10022/old-group/project1.git |\n| project2 | é¡¹ç›®2æè¿° | ssh://git@gitlab.example.com:10022/old-group/project2.git |\n\n## æ—¥å¿—\n\n<!-- è¿ç§»æ—¥å¿—å°†è‡ªåŠ¨ç”Ÿæˆåœ¨è¿™é‡Œ -->\n`;\n  \n  try {\n    writeFileSync(moveFilePath, defaultConfig, 'utf8');\n    console.log(ConsoleColors.success(`âœ… é…ç½®æ–‡ä»¶åˆå§‹åŒ–æˆåŠŸ: ${moveFilePath}`));\n    console.log('');\n    console.log(ConsoleColors.info('ğŸ“ è¯·ç¼–è¾‘é…ç½®æ–‡ä»¶å¹¶å¡«å…¥æ­£ç¡®çš„ä¿¡æ¯:'));\n    console.log(ConsoleColors.dim('   1. è®¾ç½®ç›®æ ‡ GitLab åœ°å€'));\n    console.log(ConsoleColors.dim('   2. è®¾ç½®ç›®æ ‡åˆ†ç»„è·¯å¾„'));\n    console.log(ConsoleColors.dim('   3. è®¾ç½® Access Token'));\n    console.log(ConsoleColors.dim('   4. æ·»åŠ éœ€è¦è¿ç§»çš„é¡¹ç›®ä¿¡æ¯'));\n    console.log('');\n    console.log(ConsoleColors.info('ğŸš€ é…ç½®å®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤å¼€å§‹è¿ç§»:'));\n    // æ˜¾ç¤ºæœ¬åœ°è¿è¡Œæ–¹å¼\n    console.log(ConsoleColors.highlight(`   bun run migrate-gitlab.ts`));\n    // æ˜¾ç¤ºå…¨å±€è¿è¡Œæ–¹å¼\n    console.log(ConsoleColors.highlight(`   mgitlab`));\n    // æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯\n    console.log(ConsoleColors.highlight(`   mgitlab --help     # æŸ¥çœ‹æ›´å¤šè¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œç¤ºä¾‹`));\n  } catch (error) {\n    console.error(ConsoleColors.error(`âŒ åˆå§‹åŒ–é…ç½®æ–‡ä»¶å¤±è´¥: ${error instanceof Error ? error.message : String(error)}`));\n    process.exit(1);\n  }\n}\n\n/**\n * æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯\n */\n/**\n * æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯\n */\nfunction showVersion(): void {\n  // å°è¯•ä»å¤šä¸ªå¯èƒ½çš„ä½ç½®è¯»å– package.json\n  let packageJson;\n  \n  // è·å–å½“å‰è„šæœ¬çš„ç›®å½•\n  const currentScriptPath = import.meta.url.replace('file:///', '').replace(/\\/[^/]*$/, '');\n  const possiblePaths = [\n    path.join(currentScriptPath, 'package.json'),\n    path.join(currentScriptPath, '../package.json'),\n    path.join(currentScriptPath, '../../package.json'),\n    './package.json',\n    '../package.json',\n    './dist/package.json'\n  ];\n  \n  for (const packagePath of possiblePaths) {\n    try {\n      if (existsSync(packagePath)) {\n        packageJson = JSON.parse(readFileSync(packagePath, 'utf-8'));\n        break;\n      }\n    } catch (error) {\n      // ç»§ç»­å°è¯•ä¸‹ä¸€ä¸ªè·¯å¾„\n    }\n  }\n  \n  if (!packageJson) {\n    console.log(ConsoleColors.error('æ— æ³•æ‰¾åˆ° package.json æ–‡ä»¶'));\n    return;\n  }\n  console.log(ConsoleColors.box(`GitLab é¡¹ç›®è¿ç§»å·¥å…· v${packageJson.version}`));\n  console.log('');\n  console.log(ConsoleColors.info('é¡¹ç›®ä¿¡æ¯:'));\n  console.log(ConsoleColors.dim(`  åç§°: ${packageJson.name}`));\n  console.log(ConsoleColors.dim(`  ç‰ˆæœ¬: ${packageJson.version}`));\n  console.log(ConsoleColors.dim(`  æè¿°: ${packageJson.description}`));\n  console.log(ConsoleColors.dim(`  ä½œè€…: ${packageJson.author}`));\n  console.log(ConsoleColors.dim(`  è®¸å¯è¯: ${packageJson.license}`));\n  console.log('');\n  console.log(ConsoleColors.info('è¿è¡Œç¯å¢ƒ:'));\n  console.log(ConsoleColors.dim(`  Node.js: ${process.version}`));\n  console.log(ConsoleColors.dim(`  å¹³å°: ${process.platform} ${process.arch}`));\n  console.log('');\n}\n\n/**\n * æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯\n */\nfunction showHelp(): void {\n  // å°è¯•ä»å¤šä¸ªå¯èƒ½çš„ä½ç½®è¯»å– package.json\n  let packageJson;\n  \n  // è·å–å½“å‰è„šæœ¬çš„ç›®å½•\n  const currentScriptPath = import.meta.url.replace('file:///', '').replace(/\\/[^/]*$/, '');\n  const possiblePaths = [\n    path.join(currentScriptPath, 'package.json'),\n    path.join(currentScriptPath, '../package.json'),\n    path.join(currentScriptPath, '../../package.json'),\n    './package.json',\n    '../package.json',\n    './dist/package.json'\n  ];\n  \n  for (const packagePath of possiblePaths) {\n    try {\n      if (existsSync(packagePath)) {\n        packageJson = JSON.parse(readFileSync(packagePath, 'utf-8'));\n        break;\n      }\n    } catch (error) {\n      // ç»§ç»­å°è¯•ä¸‹ä¸€ä¸ªè·¯å¾„\n    }\n  }\n  \n  if (!packageJson) {\n    console.log(ConsoleColors.error('æ— æ³•æ‰¾åˆ° package.json æ–‡ä»¶'));\n    return;\n  }\n  console.log(ConsoleColors.box(`GitLab é¡¹ç›®è¿ç§»å·¥å…· v${packageJson.version}`));\n  console.log('');\n  console.log(ConsoleColors.info('æè¿°:'));\n  console.log(ConsoleColors.dim('  ä¸“ä¸šçš„ GitLab ä»“åº“è¿ç§»å·¥å…·ï¼Œæ”¯æŒæ‰¹é‡è¿ç§»ã€æ–­ç‚¹ç»­ä¼ ã€æ™ºèƒ½é‡è¯•ç­‰åŠŸèƒ½'));\n  console.log('');\n  console.log(ConsoleColors.info('ç”¨æ³•:'));\n  console.log(ConsoleColors.dim('  å…¨å±€å®‰è£…å:'));\n  console.log(ConsoleColors.highlight('    migrate-gitlab [é€‰é¡¹] [å‚æ•°]'));\n  console.log(ConsoleColors.highlight('    mgitlab [é€‰é¡¹] [å‚æ•°]'));\n  console.log('');\n  console.log(ConsoleColors.dim('  æœ¬åœ°è¿è¡Œ:'));\n  console.log(ConsoleColors.highlight('    bun run migrate-gitlab.ts [é€‰é¡¹] [å‚æ•°]'));\n  console.log('');\n  console.log(ConsoleColors.info('å‘½ä»¤:'));\n  console.log(ConsoleColors.dim('  init [ç›®å½•]           åˆå§‹åŒ–é…ç½®æ–‡ä»¶åˆ°æŒ‡å®šç›®å½• (é»˜è®¤: å½“å‰ç›®å½•)'));\n  console.log(ConsoleColors.dim('  migrate [é…ç½®æ–‡ä»¶]    æ‰§è¡Œè¿ç§»ä»»åŠ¡ (é»˜è®¤: ./move.md)'));\n  console.log('');\n  console.log(ConsoleColors.info('é€‰é¡¹:'));\n  console.log(ConsoleColors.dim('  -h, --help           æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯'));\n  console.log(ConsoleColors.dim('  -v, --version        æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯'));\n  console.log(ConsoleColors.dim('  -p, --projects       æŒ‡å®šè¦è¿ç§»çš„é¡¹ç›®åˆ—è¡¨ (é€—å·åˆ†éš”)'));\n  console.log(ConsoleColors.dim('  -t, --token          æŒ‡å®š GitLab Access Token'));\n  console.log(ConsoleColors.dim('  -s, --skip-clone     ç¦ç”¨å…‹éš†è¿ç§»åçš„ä»“åº“åˆ°æœ¬åœ°'));\n  console.log(ConsoleColors.dim('  -q, --quiet          ç®€åŒ–æ§åˆ¶å°è¾“å‡ºï¼Œéšè—å‘½ä»¤æ‰§è¡Œè¯¦æƒ…'));\n  console.log('');\n  console.log(ConsoleColors.info('å‚æ•°è¯´æ˜:'));\n  console.log(ConsoleColors.dim('  é…ç½®æ–‡ä»¶è·¯å¾„         move.md é…ç½®æ–‡ä»¶çš„è·¯å¾„ (é»˜è®¤: ./move.md)'));\n  console.log(ConsoleColors.dim('  é¡¹ç›®åˆ—è¡¨            é€—å·åˆ†éš”çš„é¡¹ç›®åç§°åˆ—è¡¨'));\n  console.log(ConsoleColors.dim('  Access Token        GitLab Access Token'));\n  console.log(ConsoleColors.dim('  ç›®æ ‡ç›®å½•            åˆå§‹åŒ–é…ç½®æ–‡ä»¶çš„ç›®å½•'));\n  console.log('');\n  console.log(ConsoleColors.info('ç¤ºä¾‹:'));\n  console.log(ConsoleColors.dim('  # åˆå§‹åŒ–é…ç½®æ–‡ä»¶'));\n  console.log(ConsoleColors.highlight('  mgitlab init'));\n  console.log(ConsoleColors.highlight('  mgitlab init /path/to/project'));\n  console.log('');\n  console.log(ConsoleColors.dim('  # æ˜¾ç¤ºç‰ˆæœ¬å’Œå¸®åŠ©'));\n  console.log(ConsoleColors.highlight('  mgitlab --version'));\n  console.log(ConsoleColors.highlight('  mgitlab --help'));\n  console.log('');\n  console.log(ConsoleColors.dim('  # è¿ç§»æ‰€æœ‰é¡¹ç›®'));\n  console.log(ConsoleColors.highlight('  mgitlab'));\n  console.log(ConsoleColors.highlight('  mgitlab ./move.md'));\n  console.log('');\n  console.log(ConsoleColors.dim('  # è¿ç§»æŒ‡å®šé¡¹ç›®'));\n  console.log(ConsoleColors.highlight('  mgitlab --projects \"project1,project2\"'));\n  console.log(ConsoleColors.highlight('  mgitlab ./move.md \"project1,project2\"'));\n  console.log('');\n  console.log(ConsoleColors.dim('  # ä½¿ç”¨æŒ‡å®š Token'));\n  console.log(ConsoleColors.highlight('  mgitlab --token your_gitlab_token'));\n  console.log(ConsoleColors.highlight('  mgitlab ./move.md \"\" your_gitlab_token'));\n  console.log('');\n  console.log(ConsoleColors.dim('  # ç¦ç”¨å…‹éš†è¿ç§»åçš„ä»“åº“'));\n  console.log(ConsoleColors.highlight('  mgitlab --skip-clone'));\n  console.log(ConsoleColors.highlight('  mgitlab --projects \"project1,project2\" --skip-clone'));\n  console.log('');\n  console.log(ConsoleColors.info('åŠŸèƒ½ç‰¹æ€§:'));\n  console.log(ConsoleColors.dim('  âœ… æ‰¹é‡è¿ç§»å¤šä¸ª GitLab ä»“åº“'));\n  console.log(ConsoleColors.dim('  âœ… æ–­ç‚¹ç»­ä¼ ï¼Œæ”¯æŒä»ä¸­æ–­ç‚¹ç»§ç»­'));\n  console.log(ConsoleColors.dim('  âœ… æ™ºèƒ½é‡è¯•æœºåˆ¶ï¼Œè‡ªåŠ¨å¤„ç†ä¸´æ—¶é”™è¯¯'));\n  console.log(ConsoleColors.dim('  âœ… å®Œæ•´çš„é•œåƒå…‹éš†ï¼Œä¿ç•™æ‰€æœ‰åˆ†æ”¯å’Œæ ‡ç­¾'));\n  console.log(ConsoleColors.dim('  âœ… è‡ªåŠ¨åˆ›å»ºç›®æ ‡ä»“åº“å’Œæ›´æ–°æè¿°'));\n  console.log(ConsoleColors.dim('  âœ… è¯¦ç»†çš„è¿ç§»æ—¥å¿—å’Œè¿›åº¦æŠ¥å‘Š'));\n  console.log(ConsoleColors.dim('  âœ… é…ç½®æ–‡ä»¶è‡ªåŠ¨å¤‡ä»½å’Œåƒåœ¾æ¸…ç†'));\n  console.log(ConsoleColors.dim('  âœ… é¢„æ£€æŸ¥æœºåˆ¶ï¼ŒéªŒè¯æƒé™å’Œç½‘ç»œè¿é€šæ€§'));\n  console.log('');\n  console.log(ConsoleColors.info('æ›´å¤šä¿¡æ¯:'));\n  console.log(ConsoleColors.dim('  æ–‡æ¡£: https://github.com/Garynan52000/migrate-gitlab#readme'));\n  console.log(ConsoleColors.dim('  é—®é¢˜åé¦ˆ: https://github.com/Garynan52000/migrate-gitlab/issues'));\n  console.log('');\n}\n\n/**\n * ä¸»å‡½æ•° - è„šæœ¬å…¥å£ç‚¹\n */\n/**\n * è§£æå‘½ä»¤è¡Œå‚æ•°\n */\nfunction parseCommandLineArgs(args: string[]): {\n  command?: string;\n  moveFilePath?: string;\n  projectList?: string;\n  accessToken?: string;\n  targetDir?: string;\n  showHelp?: boolean;\n  showVersion?: boolean;\n  skipFinalClone?: boolean;\n  quietMode?: boolean;\n} {\n  const result: any = {};\n  let i = 0;\n\n  while (i < args.length) {\n    const arg = args[i];\n\n    switch (arg) {\n      case '--help':\n      case '-h':\n      case 'help':\n        result.showHelp = true;\n        break;\n      case '--version':\n      case '-v':\n      case 'version':\n        result.showVersion = true;\n        break;\n      case '--projects':\n      case '-p':\n        result.projectList = args[++i];\n        break;\n      case '--token':\n      case '-t':\n        result.accessToken = args[++i];\n        break;\n      case '--skip-clone':\n      case '-s':\n        result.skipFinalClone = true;\n        break;\n      case '--quiet':\n      case '-q':\n        result.quietMode = true;\n        break;\n      case 'init':\n        result.command = 'init';\n        if (i + 1 < args.length && !args[i + 1].startsWith('-')) {\n          result.targetDir = args[++i];\n        }\n        break;\n      case 'migrate':\n        result.command = 'migrate';\n        if (i + 1 < args.length && !args[i + 1].startsWith('-')) {\n          result.moveFilePath = args[++i];\n        }\n        break;\n      default:\n        // å¤„ç†ä½ç½®å‚æ•°\n        if (!arg.startsWith('-')) {\n          if (!result.command) {\n            // å¦‚æœæ²¡æœ‰æ˜ç¡®çš„å‘½ä»¤ï¼Œæ ¹æ®å‚æ•°å†…å®¹æ¨æ–­\n            if (arg === 'init') {\n              result.command = 'init';\n            } else if (arg.endsWith('.md') || arg.includes('/') || arg.includes('\\\\')) {\n              result.moveFilePath = arg;\n              result.command = 'migrate';\n            } else {\n              // å¯èƒ½æ˜¯é¡¹ç›®åˆ—è¡¨\n              if (!result.projectList) {\n                result.projectList = arg;\n              } else if (!result.accessToken) {\n                result.accessToken = arg;\n              }\n              result.command = result.command || 'migrate';\n            }\n          } else if (result.command === 'init' && !result.targetDir) {\n            result.targetDir = arg;\n          } else if (result.command === 'migrate' && !result.moveFilePath) {\n            result.moveFilePath = arg;\n          } else if (!result.projectList) {\n            result.projectList = arg;\n          } else if (!result.accessToken) {\n            result.accessToken = arg;\n          }\n        }\n        break;\n    }\n    i++;\n  }\n\n  // è®¾ç½®é»˜è®¤å€¼\n  if (!result.command && !result.showHelp && !result.showVersion) {\n    result.command = 'migrate';\n  }\n  if (result.command === 'migrate' && !result.moveFilePath) {\n    result.moveFilePath = path.resolve(process.cwd(), 'move.md');\n  }\n  if (result.command === 'init' && !result.targetDir) {\n    result.targetDir = process.cwd();\n  }\n\n  return result;\n}\n\n/**\n * ä¸»å‡½æ•°\n */\nasync function main() {\n  let migrator: GitLabMigrator | undefined;\n  \n  try {\n    // è·å–å‘½ä»¤è¡Œå‚æ•°\n    const args = process.argv.slice(2);\n    const parsed = parseCommandLineArgs(args);\n    \n    // å¤„ç†ç‰ˆæœ¬ä¿¡æ¯\n    if (parsed.showVersion) {\n      showVersion();\n      return;\n    }\n    \n    // å¤„ç†å¸®åŠ©ä¿¡æ¯\n    if (parsed.showHelp || (args.length === 0 && !parsed.command)) {\n      if (args.length === 0) {\n        console.log('ğŸš€ GitLab é¡¹ç›®è¿ç§»å·¥å…·å¯åŠ¨');\n        console.log('ğŸ“‹ æ­£åœ¨è¯»å–è¿ç§»é…ç½®...');\n      } else {\n        showHelp();\n        return;\n      }\n    }\n    \n    // å¤„ç† init å‘½ä»¤\n    if (parsed.command === 'init') {\n      console.log('ğŸ”§ åˆå§‹åŒ– GitLab è¿ç§»é…ç½®æ–‡ä»¶');\n      console.log(`ğŸ“ ç›®æ ‡ç›®å½•: ${parsed.targetDir}`);\n      console.log('');\n      initMoveFile(parsed.targetDir!);\n      return;\n    }\n    \n    // å¤„ç† migrate å‘½ä»¤\n    if (parsed.command === 'migrate') {\n      console.log('ğŸš€ GitLab é¡¹ç›®è¿ç§»å·¥å…·å¯åŠ¨');\n      console.log('ğŸ“‹ æ­£åœ¨è¯»å–è¿ç§»é…ç½®...');\n      \n      // è§£æé¡¹ç›®åç§°åˆ—è¡¨\n      let selectedProjects: string[] = [];\n      if (parsed.projectList) {\n        selectedProjects = parsed.projectList.split(',').map(name => name.trim()).filter(name => name.length > 0);\n        console.log(`ğŸ¯ æŒ‡å®šè¿ç§»é¡¹ç›®: ${selectedProjects.join(', ')}`);\n      } else {\n        console.log('ğŸ“¦ å°†è¿ç§»æ‰€æœ‰é¡¹ç›®');\n      }\n      \n      // è·å– Access Tokenï¼ˆä¼˜å…ˆçº§ï¼šå‘½ä»¤è¡Œå‚æ•° > ç¯å¢ƒå˜é‡ï¼‰\n      const accessToken = parsed.accessToken || process.env.GITLAB_ACCESS_TOKEN;\n      \n      // åˆ›å»ºè¿ç§»å™¨å®ä¾‹\n      migrator = new GitLabMigrator(parsed.moveFilePath!, selectedProjects, accessToken, parsed.skipFinalClone, parsed.quietMode);\n      \n      // æ³¨å†Œé€€å‡ºå¤„ç†å™¨ï¼ˆä¼ å…¥ migrator å®ä¾‹ï¼‰\n      registerExitHandlers(migrator);\n      \n      // æ‰§è¡Œè¿ç§»\n      await migrator.migrate();\n      \n      // ç”Ÿæˆå¹¶æ˜¾ç¤ºæŠ¥å‘Š\n      const report = migrator.generateMigrationReport();\n      console.log(report);\n      \n      console.log('\\nğŸ‰ è¿ç§»ä»»åŠ¡å®Œæˆï¼');\n      \n      // æ­£å¸¸å®Œæˆæ—¶ä¹Ÿè¿›è¡Œæ¸…ç†\n      cleanupOnExit(migrator);\n      return;\n    }\n    \n    // å¦‚æœæ²¡æœ‰åŒ¹é…çš„å‘½ä»¤ï¼Œæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯\n    showHelp();\n    \n  } catch (error) {\n    console.error('\\nğŸ’¥ è¿ç§»è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯:');\n    console.error(error instanceof Error ? error.message : String(error));\n    \n    // é”™è¯¯é€€å‡ºå‰è¿›è¡Œæ¸…ç†ï¼ˆç°åœ¨å¯ä»¥ä¼ å…¥ migrator å®ä¾‹ï¼‰\n    if (migrator) {\n      console.log('\\nğŸ§¹ æ­£åœ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶...');\n      cleanupOnExit(migrator);\n    } else {\n      // å¦‚æœ migrator æœªåˆ›å»ºï¼Œè¿›è¡ŒåŸºæœ¬æ¸…ç†\n      cleanupOnExit();\n    }\n    process.exit(1);\n  }\n}\n\n// å¦‚æœç›´æ¥è¿è¡Œæ­¤è„šæœ¬ï¼Œåˆ™æ‰§è¡Œä¸»å‡½æ•°\nif (process.argv[1] && import.meta.url.endsWith(process.argv[1].replace(/\\\\/g, '/'))) {\n  main();\n}\n\nexport { GitLabMigrator, type TRepository, type TMigrationConfig, type TMigrationLog };"
  ],
  "mappings": "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",
  "debugId": "86FFB51EA07B026764756E2164756E21",
  "names": []
}